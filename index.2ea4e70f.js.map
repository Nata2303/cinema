{"mappings":"YAuBA,IAAMA,EAAO,CACXC,YAAaC,SAASC,cAAc,cACpCC,UAAWF,SAASC,cAAc,eAClCE,OAAQH,SAASC,cAAc,mBAfxBG,MAVK,iEACI,CACdC,OAAQ,MACRC,QAAS,CACPC,OAAQ,mBACRC,cACE,gOAKHC,MAAK,SAAAC,GACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAM,0BAElB,OAAOF,EAASG,M,IAEjBC,OAAM,SAAAC,GACL,MAAM,IAAIH,MAAM,yB,IAYjBH,MAAK,SAAAO,GAEJ,OAAOA,EAAEC,QAAQ,E,IAElBR,MAAK,SAAAO,GACJ,OAQN,SAAmBE,GACjB,SAASC,IACaC,OAAOC,YAER,KACjBvB,EAAKC,YAAYuB,MAAMC,WAAa,qHAAwIC,OAAnBN,EAAKO,cAAc,KAC5K3B,EAAKC,YAAYuB,MAAMI,eAAiB,YACxC5B,EAAKC,YAAYuB,MAAMK,iBAAmB,YAC1C7B,EAAKC,YAAYuB,MAAMM,mBAAqB,UAE5C9B,EAAKC,YAAYuB,MAAMC,WAAa,qHAAwIC,OAAnBN,EAAKO,cAAc,KAC5K3B,EAAKC,YAAYuB,MAAMI,eAAiB,YACxC5B,EAAKC,YAAYuB,MAAMK,iBAAmB,YAC1C7B,EAAKC,YAAYuB,MAAMM,mBAAqB,S,CAGhDT,IAEA,IAoEiChB,EAE3B0B,EAtEAC,GAoE2B3B,EApEiBe,EAAKa,aAsEjDF,EAAa1B,EAAU,GAAM,IAGT6B,KAAKC,MAAmB,IAAbJ,GAAoB,KAvErDK,EAAgBhB,EAAKiB,GACzBC,aAAaC,WAAW,cACxBD,aAAaE,QAAQ,aAAc,GAAiBd,OAAdU,IAEtC,IAoBoBK,EApBdC,GAoBcD,EApBUrB,EAAKuB,SAqBfrB,OAAOC,YACR,IACbkB,EAAKG,OAAS,IACTH,EAAKI,UAAU,EAAG,KAAO,MAE3BJ,EACEA,EAAKG,OAAS,IAChBH,EAAKI,UAAU,EAAG,KAAO,MAE3BJ,GA5BDK,EAAe,0DAEwBpB,OAFkCN,EAAK2B,MAAM,uGAY1DrB,OAVaM,EAAgB,weAUpBN,OAATgB,EAAS,+HAGzC,OAFA1C,EAAKI,UAAU4C,UAAYF,EAEpBA,C,CAjDIG,CAAU/B,E,IAkEhB,IAADgC,EAAUhD,SAASiD,iBAAiB,WAa1C,SAASC,EAAW/C,IAKpB,SAAwBA,GACtBgD,aAAehD,EAAOF,cAAc,kBACpCmD,YAAcjD,EAAOF,cAAc,gB,CANnCoD,CAAelD,GASjB,WAA8BmD,UAAAZ,OAAA,YAAAY,UAAA,IAAQF,YAAYN,U,IAC1CS,EAAoBC,WAAWJ,YAAYN,WAAa,IAC9DK,aAAa7B,MAAMmC,MAAQ,GAAqBjC,OAAlB+B,EAAkB,I,CAVhDG,E,CAdEV,EAAQN,OAAS,GAIrB,WAEE,IADA,IACSiB,EAAI,EAAGA,EAAIX,EAAQN,OAAQiB,IAAK,CAEvCT,EADeF,EAAQW,G,EANzBC,E","sources":["src/js/hero.js"],"sourcesContent":["function fetchBreeds() {\n  const url = 'https://api.themoviedb.org/3/trending/movie/day?language=en-US';\n  const options = {\n    method: 'GET',\n    headers: {\n      Accept: 'application/json',\n      Authorization:\n        'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlOGFlZjVlODMzOTZmYmViNmY2MmU4NmNmZmViYjk4MSIsInN1YiI6IjY0ODIzMjcxZDJiMjA5MDBlYmJmM2Y5OCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.VO3Y1F5-wzOGPgGegX0KKGPSKeCvq8s50R1CV3r3ln0',\n    },\n  };\n\n  return fetch(url, options)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Failed to fetch breeds');\n      }\n      return response.json();\n    })\n    .catch(error => {\n      throw new Error('Failed to fetch breeds');\n    });\n}\n\nconst refs = {\n  sectionHero: document.querySelector('.hero-main'),\n  basicHero: document.querySelector('.basic-hero'),\n  rating: document.querySelector('.rating-active'),\n};\n\nfunction heroFilm() {\n  return fetchBreeds()\n    .then(r => {\n      // console.log(r.results[2]) ;\n      return r.results[2];\n    })\n    .then(r => {\n      return cardMaker(r);\n    });\n  //  .then(() => {setTimeout(onTimeOut,700)})\n  //  then(r=> console.log(r));\n}\n\nheroFilm();\n\nfunction cardMaker(film) {\n  function setSectionHeroStyles() {\n    const screenWidth = window.innerWidth;\n\n    if (screenWidth >= 768) {\n      refs.sectionHero.style.background = `linear-gradient(86.77deg, #111111 35.38%, rgba(249, 245, 245, 0) 65.61%), url(https://image.tmdb.org/t/p/original/${film.backdrop_path})`;\n      refs.sectionHero.style.backgroundSize = 'auto 100%';\n      refs.sectionHero.style.backgroundRepeat = 'no-repeat';\n      refs.sectionHero.style.backgroundPosition = 'right';\n    } else {\n      refs.sectionHero.style.background = `linear-gradient(86.77deg, #111111 10.38%, rgba(249, 245, 245, 0) 65.61%), url(https://image.tmdb.org/t/p/original/${film.backdrop_path})`;\n      refs.sectionHero.style.backgroundSize = 'auto 100%';\n      refs.sectionHero.style.backgroundRepeat = 'no-repeat';\n      refs.sectionHero.style.backgroundPosition = 'center';\n    }\n  }\n  setSectionHeroStyles();\n\n  const retingInPercent = convertRatingToPercentage(film.vote_average);\n  // console.log(retingInPercent)\n  let filmIdTrailer = film.id;\n  localStorage.removeItem('filmIdstor');\n  localStorage.setItem('filmIdstor', `${filmIdTrailer}`);\n\n  const filmText = truncateText(film.overview);\n\n  const htmlFilmCard = `<div class=\"film-box-hero\"><h2 class=\"hero-title-film\">${film.title}</h2><div class=\"rating\">\n<div class=\"rating-body\">\n    <div class=\"rating-active\" style=\"width: ${retingInPercent}%;\" ></div>\n    <div class=\"rating-items\">\n        <input type=\"radio\" class=\"reting-item\" value=\"1\" name=\"rating\"></>\n        <input type=\"radio\" class=\"reting-item\" value=\"2\" name=\"rating\"></>\n        <input type=\"radio\" class=\"reting-item\" value=\"3\" name=\"rating\"></>\n        <input type=\"radio\" class=\"reting-item\" value=\"4\" name=\"rating\"></>\n        <input type=\"radio\" class=\"reting-item\" value=\"5\" name=\"rating\"></>\n    </div>\n</div>\n\n</div><p class=\"hero-text-film\">${filmText}</p><button  class=\"hero-btn-static \">Watch trailer</button><button class=\"hero-btn-static-sec\">More details</button></div>`;\n  refs.basicHero.innerHTML = htmlFilmCard;\n  // console.log(refs.sectionHero.style.background);\n  return htmlFilmCard;\n}\n\nfunction truncateText(text) {\n  const screenWidth = window.innerWidth;\n  if (screenWidth >= 768) {\n    if (text.length > 200) {\n      return text.substring(0, 200) + '...';\n    }\n    return text;\n  } else if (text.length > 100) {\n    return text.substring(0, 100) + '...';\n  }\n  return text;\n}\n\n//   Зірочки\nconst ratings = document.querySelectorAll('.rating');\nif (ratings.length > 0) {\n  initRatings();\n}\n\nfunction initRatings() {\n  let ratingActive, ratingValue;\n  for (let i = 0; i < ratings.length; i++) {\n    const rating = ratings[i];\n    initRating(rating);\n  }\n}\n\nfunction initRating(rating) {\n  initRatingVars(rating);\n  setRetingActiveWidth();\n}\n\nfunction initRatingVars(rating) {\n  ratingActive = rating.querySelector('.rating-active');\n  ratingValue = rating.querySelector('.rating-value');\n}\n\nfunction setRetingActiveWidth(index = ratingValue.innerHTML) {\n  const ratingActiveWidth = parseFloat(ratingValue.innerHTML) / 0.05;\n  ratingActive.style.width = `${ratingActiveWidth}%`;\n}\n\nfunction convertRatingToPercentage(rating) {\n  // Перетворюємо рейтинг у відсотки\n  const percentage = (rating / 10) * 100;\n\n  // Округлюємо значення до двох знаків після коми\n  const roundedPercentage = Math.round(percentage * 100) / 100;\n\n  return roundedPercentage;\n}\n\n//  function onTimeOut(){\n//     console.log(filmIdTrailer)\n\n//  }\n\n//  =======Фільм Трейлер========\n"],"names":["$c519d076f6352209$var$refs","sectionHero","document","querySelector","basicHero","rating","fetch","method","headers","Accept","Authorization","then","response","ok","Error","json","catch","error","r","results","film","setSectionHeroStyles","window","innerWidth","style","background","concat","backdrop_path","backgroundSize","backgroundRepeat","backgroundPosition","percentage","retingInPercent","vote_average","Math","round","filmIdTrailer","id","localStorage","removeItem","setItem","text","filmText","overview","length","substring","htmlFilmCard","title","innerHTML","$c519d076f6352209$var$cardMaker","$c519d076f6352209$var$ratings","querySelectorAll","$c519d076f6352209$var$initRating","ratingActive","ratingValue","$c519d076f6352209$var$initRatingVars","arguments","ratingActiveWidth","parseFloat","width","$c519d076f6352209$var$setRetingActiveWidth","i","$c519d076f6352209$var$initRatings"],"version":3,"file":"index.2ea4e70f.js.map"}