{"mappings":"YAEgBA,SAASC,cAAc,kBADvC,IAKMC,EAASC,aAAaC,QAAQ,cAEpC,SAASC,IACP,IAAMC,EACJ,sCAA6CC,OAAPL,EAAO,0BAU/C,OAAOM,MAAMF,EATG,CACdG,OAAQ,MACRC,QAAS,CACPC,OAAQ,mBACRC,cACE,gOAKHC,MAAK,SAAAC,GACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAM,0BAElB,OAAOF,EAASG,M,IAEjBC,OAAM,SAAAC,GAEL,MAkEN,WACE,IAAMC,EAAepB,SAASC,cAAc,oBACtCoB,EAAQrB,SAASsB,eAAe,SAChCC,EAAgBF,EAAMpB,cAAc,UAExC,SAAOuB,IACPH,EAAMI,MAAMC,QAAU,O,CAExB,SAASC,IACPC,YAAYC,IAAM,GAClBR,EAAMI,MAAMC,QAAU,M,CAExBN,EAAaU,iBAAiB,QAASN,GACvCD,EAAcO,iBAAiB,QAASH,GACxCI,OAAOD,iBAAiB,SAAS,SAAUE,GACrCA,EAAMC,SAAWZ,GACnBM,G,IAnFAO,GACM,IAAIlB,MAAM,yB,IAtBtBmB,QAAQC,IAAIlC,GA0BZmC,YAEA,WAAmChC,IAAcQ,MAAK,SAAAyB,GAAM,OAAOA,EAAEC,QAAQ,E,IAAK1B,MAAK,SAAAyB,G,OAGvF,SAAqBE,GAGrB,IAMMZ,EANAR,EAAepB,SAASC,cAAc,oBACpCoB,EAAQrB,SAASsB,eAAe,SAChCC,EAAgBF,EAAMpB,cAAc,UAM1C,SAASuB,IACPH,EAAMI,MAAMC,QAAU,QACtBE,EAAYC,IAAM,iCAA0CtB,OAATkC,E,CAIpB,SAAxBd,IAEPC,EAAYC,IAAM,GACMD,EAAZc,cAAcC,YAAY,oDAAqD,KAClEtB,EAAnBI,MAAMC,QAAU,M,CAIHN,EAARU,iBAAiB,QAASN,GACvCD,EAAcO,iBAAiB,QAASH,GACxCI,OAAOD,iBAAiB,SAAS,SAAUE,GACrCA,EAAMC,SAAWZ,IACnBO,EAAYC,IAAM,GAClBF,I,IAIJ,IAAMiB,EAAO,CACXC,aAAa7C,SAASC,cAAc,mBAKlCwC,EAAWD,EAAMM,IACvBX,QAAQC,IAAIK,IAEZb,EAAc5B,SAAS+C,cAAc,WAEvBC,iBAAkB,EAC9BpB,EAAYqB,UAAUC,IAAI,mBAI5BN,EAAKC,aAAaM,UAAY,GAE9BP,EAAKC,aAAaO,YAAYxB,E,CAvD8DyB,CAAWf,E,MAFpE,I","sources":["src/js/modalTrailer.js"],"sourcesContent":["\nconst refs = {\n  modalTrailer: document.querySelector('.modal-content')\n}\n\n\nconst filmId = localStorage.getItem('filmIdstor');\nconsole.log(filmId)\nfunction fetchBreeds() {\n  const url =\n    `https://api.themoviedb.org/3/movie/${filmId}/videos?language=en-US`;\n  const options = {\n    method: 'GET',\n    headers: {\n      Accept: 'application/json',\n      Authorization:\n        'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlOGFlZjVlODMzOTZmYmViNmY2MmU4NmNmZmViYjk4MSIsInN1YiI6IjY0ODIzMjcxZDJiMjA5MDBlYmJmM2Y5OCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.VO3Y1F5-wzOGPgGegX0KKGPSKeCvq8s50R1CV3r3ln0',\n    },\n  };\n\n  return fetch(url, options)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Failed to fetch breeds');\n      }\n      return response.json();\n    })\n    .catch(error => {\n      onFail()\n      throw new Error('Failed to fetch breeds');\n    });\n}\n\nsetTimeout(fetchTrailerForTimeOut, 500)\n\nfunction fetchTrailerForTimeOut (){fetchBreeds().then(r => {return r.results[0]}).then(r => videoMaker(r))}\n\n\nfunction videoMaker (video) {\n\n//==========\nconst openModalBtn = document.querySelector('.hero-btn-static');\n  const modal = document.getElementById('modal');\n  const closeModalBtn = modal.querySelector('.close');\n  \n  // Функція для відкриття модального вікна\n\n  let videoIframe;\n\n  function openModal() {\n    modal.style.display = 'block';\n    videoIframe.src = `https://www.youtube.com/embed/${videoKey}`;\n  }\n  \n  // Функція для закриття модального вікна\n  function closeModal() {\n    \n    videoIframe.src = ''; // Очищуємо посилання на відео\n    videoIframe.contentWindow.postMessage('{\"event\":\"command\",\"func\":\"pauseVideo\",\"args\":\"\"}', '*'); // Зупиняємо відтворення відео\n    modal.style.display = 'none';\n  }\n  \n  // Додаємо обробники подій\n  openModalBtn.addEventListener('click', openModal);\n  closeModalBtn.addEventListener('click', closeModal);\n  window.addEventListener('click', function (event) {\n    if (event.target === modal) {\n      videoIframe.src = '';\n      closeModal();\n    }\n  });\n  \n  const refs = {\n    modalTrailer:document.querySelector('.modal-content')\n    \n  }\n//==========\n\nconst videoKey = video.key;\nconsole.log(videoKey)\n\nvideoIframe = document.createElement('iframe');\n  // videoIframe.src = `https://www.youtube.com/embed/${videoKey}`;\n  videoIframe.allowFullscreen = true;\n  videoIframe.classList.add('you-tube-iframe')\n  \n  \n  \nrefs.modalTrailer.innerHTML = '';\n\nrefs.modalTrailer.appendChild(videoIframe);\n\n}\n\n\nfunction onFail () {\n  const openModalBtn = document.querySelector('.hero-btn-static');\n  const modal = document.getElementById('modal');\n  const closeModalBtn = modal.querySelector('.close');\n  // refs.modalTrailer.innerHTML = '<span class=\"close\"></span><div class=\"modal-fail-box\"><p class=\"modal-fail-text\">OOPS...<br>We are very sorry!<br>But we couldn’t find the trailer.</p></div>'\n  function openModal() {\n    modal.style.display = 'block';\n  }\n  function closeModal() {\n    videoIframe.src = '';\n    modal.style.display = 'none';\n  }\n  openModalBtn.addEventListener('click', openModal);\n  closeModalBtn.addEventListener('click', closeModal);\n  window.addEventListener('click', function (event) {\n    if (event.target === modal) {\n      closeModal();\n    }\n  });\n  \n}\n\n\n// <img class=\"modal-fail-img\" src=\"./images/IMG_9881.png\" alt=\"fail-trailer-search\">\n\n// setTimeout(() => {\n  // \n//   const openModalBtn = document.querySelector('.hero-btn-static');\n//   const modal = document.getElementById('modal');\n//   const closeModalBtn = modal.querySelector('.close');\n  \n//   // Функція для відкриття модального вікна\n//   function openModal() {\n//     modal.style.display = 'block';\n//   }\n  \n//   // Функція для закриття модального вікна\n//   function closeModal() {\n//     modal.style.display = 'none';\n//   }\n  \n//   // Додаємо обробники подій\n//   openModalBtn.addEventListener('click', openModal);\n//   closeModalBtn.addEventListener('click', closeModal);\n//   window.addEventListener('click', function (event) {\n//     if (event.target === modal) {\n//       closeModal();\n//     }\n//   });\n  \n//   const refs = {\n//     modalTrailer:document.querySelector('.modal-content')\n    \n//   }\n// }, 500)"],"names":["document","querySelector","$31d47fd4a23884c9$var$filmId","localStorage","getItem","$31d47fd4a23884c9$var$fetchBreeds","url","concat","fetch","method","headers","Accept","Authorization","then","response","ok","Error","json","catch","error","openModalBtn","modal","getElementById","closeModalBtn","openModal","style","display","closeModal","videoIframe","src","addEventListener","window","event","target","$31d47fd4a23884c9$var$onFail","console","log","setTimeout","r","results","video","videoKey","contentWindow","postMessage","refs1","modalTrailer","key","createElement","allowFullscreen","classList","add","innerHTML","appendChild","$31d47fd4a23884c9$var$videoMaker"],"version":3,"file":"index.3a452e66.js.map"}