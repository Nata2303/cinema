var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in n){var a=n[e];delete n[e];var i={id:e,exports:{}};return t[e]=i,a.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},e.parcelRequired7c6=a);var i=a("3iMKl");a("3iMKl");a("7Y9D8");a("3iMKl"),i=a("3iMKl");const o=document.querySelector(".catalog-js"),r=document.querySelector(".pagination-container");let s,l,c,d=1;async function u(){try{l={},s=await(0,i.trendMovieRequest)(d);(await(0,i.upcomingMovieGenreRequest)()).forEach((e=>{l[e.id]=e.name})),v(s.results,l),p()}catch(e){console.log(e)}}function p(){let e=s.total_pages;r.innerHTML="";const t=Math.floor(2.5);let n=Math.max(d-t,1),a=Math.min(n+5-1,e);a-n+1<5&&(n=Math.max(a-5+1,1)),d>1&&function(){const e=document.createElement("a");e.href="#",e.textContent="<",e.addEventListener("click",(async function(){d-=1,console.log(d),s=await(0,i.trendMovieRequest)(d),v(s.results,l),p(s.total_pages)})),r.appendChild(e)}(),n>1&&(m(1),n>2&&f());for(let e=n;e<=a;e++)m(e);a<e&&(a<e-1&&f(),m(e)),d<e&&function(){const e=document.createElement("a");e.href="#",e.textContent=">",e.addEventListener("click",(async function(){d+=1,console.log(d),s=await(0,i.trendMovieRequest)(d),v(s.results,l),p(s.total_pages)})),r.appendChild(e)}()}function m(e){const t=document.createElement("div");t.classList.add("page-number");const n=document.createElement("a");n.classList="catalog-pagination-link",n.href="#",n.textContent=g(e),e===d&&(n.classList.add("active"),t.classList.add("active")),n.addEventListener("click",(async function(){d=e,console.log(d),s=await(0,i.trendMovieRequest)(d),v(s.results,l),p(s.total_pages)})),t.appendChild(n),r.appendChild(t)}function g(e){return e<10?`0${e}`:e.toString()}function f(){const e=document.createElement("span");e.textContent="...",r.appendChild(e)}function v(e,t){o.innerHTML="";const n=function(e,t){return e.map((e=>{const{release_date:n,backdrop_path:a,genre_ids:i,title:o,vote_average:r,name:s,poster_path:l}=e,c=i.map((e=>t[e])).join(", ");let d;d=o||s;let u,p=n.slice(0,4);return p&&""!==p||(p="unknown"),u=a||l?a||l:"/vL5LR6WdxWPjLPFRLe133jXWsh5.jpg",`<div class="library-container-item">\n                <div class="library-container-img" style="background-image: url(https://image.tmdb.org/t/p/original${u});">\n                <div class="rating-libr rating-library">\n                        <div class="rating-body">\n                            <div class="rating-active" style="width: ${function(e){const t=e/10*100;return Math.round(100*t)/100}(r)}%;"></div>\n                            <div class="rating-items">\n                                <input type="radio" class="reting-item" value="1" name="rating"></>\n                                <input type="radio" class="reting-item" value="2" name="rating"></>\n                                <input type="radio" class="reting-item" value="3" name="rating"></>\n                                <input type="radio" class="reting-item" value="4" name="rating"></>\n                                <input type="radio" class="reting-item" value="5" name="rating"></>\n                            </div>\n                            </div>\n                        </div>\n                    <div class="library-container-about">\n                        <h3 class="library-movie-title">${d}</h3>     \n                        <span class="library-genre-title">${c}</span><span class="library-genre-title"> | ${p}</span>   \n                    </div> \n            </div>\n            </div>\n        </div>`})).join("")}(e,t);o.insertAdjacentHTML("beforeend",n)}u();let h,y=1,L=!0;const E=document.querySelector(".catalog-form"),M=document.querySelector(".js-catalog-search"),b=document.querySelector("#js-search-select");function x(e){if(!L)return;let t=e;r.innerHTML="";const n=Math.floor(2.5);let a=Math.max(y-n,1),o=Math.min(a+5-1,t);o-a+1<5&&(a=Math.max(o-5+1,1)),y>1&&function(){const e=document.createElement("a");e.href="#",e.textContent="<",e.addEventListener("click",(async function(){y-=1,console.log(y);const e=await(0,i.searchRequest)(formEvt,formYear,y);v(e.results,c),x(e.total_pages)})),r.appendChild(e)}(),a>1&&(w(1),a>2&&f());for(let e=a;e<=o;e++)w(e);o<t&&(o<t-1&&f(),w(t)),y<t&&function(){const e=document.createElement("a");e.href="#",e.textContent=">",e.addEventListener("click",(async function(){y+=1,console.log(y);const e=await(0,i.searchRequest)(formEvt,formYear,y);v(e.results,c),x(e.total_pages)})),r.appendChild(e)}()}function w(e){const t=document.createElement("div");t.classList.add("page-number");const n=document.createElement("a");n.classList="catalog-pagination-link",n.href="#",n.textContent=g(e),e===y&&(n.classList.add("active"),t.classList.add("active")),n.addEventListener("click",(async function(){L&&(y=e,console.log(y),h=await(0,i.searchRequest)(formEvt,formYear,y),v(h.results,c),x(h.total_pages))})),t.appendChild(n),r.appendChild(t)}console.log(E),console.log(M),function(){const e=(new Date).getFullYear();for(let t=1940;t<=e;t++){const e=document.createElement("option");e.classList.add("selectOption"),e.value=t,e.text=t,b.appendChild(e)}}(),E.addEventListener("submit",(async function(e){try{e.preventDefault(),r.innerHTML="",c={},formEvt=e.currentTarget.elements.catalogSearchQuery.value,formYear=e.currentTarget.elements.select.value,h=await(0,i.searchRequest)(formEvt,formYear,y);(await(0,i.upcomingMovieGenreRequest)()).forEach((e=>{c[e.id]=e.name})),0===formEvt.length&&(o.innerHTML="",u()),formEvt.length>1&&(o.innerHTML="",v(h.results,c)),0===h.results.length?(L=!1,o.innerHTML='<div class="opsContainer">\n        <p class="opsText">OOPS...<br>We are very sorry!<br>We don\'t have any results matching your search</p>\n      </div>'):L=!0,r.style.display=L?"flex":"none",x(h.total_pages)}catch(e){console.log(e)}}));
//# sourceMappingURL=catalog.3a7708a8.js.map
