var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},t={},r=e.parcelRequired7c6;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in t){var r=t[e];delete t[e];var i={id:e,exports:{}};return n[e]=i,r.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,n){t[e]=n},e.parcelRequired7c6=r);var i=r("3iMKl");i=r("3iMKl");const a=document.querySelector(".library-js-list"),o=document.querySelector("#js-library-select"),l=JSON.parse(localStorage.getItem("movieIds"));let s=[],c=0;async function d(){try{if(!l)return;const e=s[c],n=await(0,i.libraryMovieQuery)(e),t=await(0,i.upcomingMovieGenreRequest)();t.forEach((e=>{const n=document.createElement("option");n.value=e.name,n.textContent=e.name,n.classList.add("optionSelect"),o.append(n)})),o.addEventListener("change",(e=>{const t=e.target.value;if("Genre"===t)a.innerHTML="",a.insertAdjacentHTML("beforeend",g(n)),c<s.length&&(a.insertAdjacentHTML("beforeend",p()),u());else{const e=n.filter((e=>{const n=e.genres.some((e=>e.name===t));return console.log(t),n}));a.innerHTML="",a.insertAdjacentHTML("beforeend",g(e))}})),c++,a.insertAdjacentHTML("beforeend",g(n)),c<s.length&&a.insertAdjacentHTML("beforeend",p()),u(),console.log(n)}catch(e){console.log(e)}}function u(){const e=document.querySelector(".loadMore"),n=document.querySelectorAll(".loadMore");e&&e.addEventListener("click",(()=>{c<s.length&&(n.forEach((e=>e.remove())),d())}))}function g(e){return e.map((e=>{const{release_date:n,backdrop_path:t,genres:r,title:i,vote_average:a}=e,o=r.slice(0,1).map((e=>e.name)).join(", ");return`<div class="library-container-item">\n                <div class="library-container-img" style="background-image: url(https://image.tmdb.org/t/p/original${t});">\n                <div class="rating-libr rating-library">\n                        <div class="rating-body">\n                            <div class="rating-active" style="width: ${function(e){const n=e/10*100;return Math.round(100*n)/100}(a)}%;"></div>\n                            <div class="rating-items">\n                                <input type="radio" class="reting-item" value="1" name="rating"></>\n                                <input type="radio" class="reting-item" value="2" name="rating"></>\n                                <input type="radio" class="reting-item" value="3" name="rating"></>\n                                <input type="radio" class="reting-item" value="4" name="rating"></>\n                                <input type="radio" class="reting-item" value="5" name="rating"></>\n                            </div>\n                            </div>\n                        </div>\n                    <div class="library-container-about">\n                        <h3 class="library-movie-title">${i}</h3>     \n                        <span class="library-genre-title">${o}</span><span class="library-genre-title"> | ${n.slice(0,4)}</span>   \n                    </div> \n            </div>\n            </div>\n        </div>`})).join("")}function p(){if(s.length>1)return'<button type="button" class="loadMore loadMoreStyle">Load more</button>'}!function(e){if(!e)return;for(;e.length>0;)0!==s.length&&9!==s[s.length-1].length||s.push([]),s[s.length-1].push(e.shift())}(l),d();
//# sourceMappingURL=library.6a5be0b9.js.map
