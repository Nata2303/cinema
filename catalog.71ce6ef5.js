var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in n){var a=n[e];delete n[e];var o={id:e,exports:{}};return t[e]=o,a.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},e.parcelRequired7c6=a);var o=a("3iMKl");a("3iMKl");a("7Y9D8");a("3iMKl"),o=a("3iMKl");const i=document.querySelector(".catalog-js"),r=document.querySelector(".pagination-container");let s,c,l,d=1;function u(){let e=s.total_pages;r.innerHTML="";const t=Math.floor(2.5);let n=Math.max(d-t,1),a=Math.min(n+5-1,e);a-n+1<5&&(n=Math.max(a-5+1,1)),d>1&&function(){const e=document.createElement("a");e.href="#",e.textContent="<",e.addEventListener("click",(async function(){d-=1,console.log(d),s=await(0,o.trendMovieRequest)(d),f(s.results,c),u(s.total_pages)})),r.appendChild(e)}(),n>1&&(m(1),n>2&&g());for(let e=n;e<=a;e++)m(e);a<e&&(a<e-1&&g(),m(e)),d<e&&function(){const e=document.createElement("a");e.href="#",e.textContent=">",e.addEventListener("click",(async function(){d+=1,console.log(d),s=await(0,o.trendMovieRequest)(d),f(s.results,c),u(s.total_pages)})),r.appendChild(e)}()}function m(e){const t=document.createElement("div");t.classList.add("page-number");const n=document.createElement("a");n.classList="catalog-pagination-link",n.href="#",n.textContent=p(e),e===d&&(n.classList.add("active"),t.classList.add("active")),n.addEventListener("click",(async function(){d=e,console.log(d),s=await(0,o.trendMovieRequest)(d),f(s.results,c),u(s.total_pages)})),t.appendChild(n),r.appendChild(t)}function p(e){return e<10?`0${e}`:e.toString()}function g(){const e=document.createElement("span");e.textContent="...",r.appendChild(e)}function f(e,t){i.innerHTML="";const n=function(e,t){return e.map((e=>{const{release_date:n,backdrop_path:a,genre_ids:o,title:i,vote_average:r,name:s,poster_path:c}=e,l=o.map((e=>t[e])).join(", ");let d;d=i||s;let u,m=n.slice(0,4);return m&&""!==m||(m="unknown"),u=a||c?a||c:"/vL5LR6WdxWPjLPFRLe133jXWsh5.jpg",`<div class="library-container-item">\n                <div class="library-container-img" style="background-image: url(https://image.tmdb.org/t/p/original${u});">\n                <div class="rating-libr rating-library">\n                        <div class="rating-body">\n                            <div class="rating-active" style="width: ${function(e){const t=e/10*100;return Math.round(100*t)/100}(r)}%;"></div>\n                            <div class="rating-items">\n                                <input type="radio" class="reting-item" value="1" name="rating"></>\n                                <input type="radio" class="reting-item" value="2" name="rating"></>\n                                <input type="radio" class="reting-item" value="3" name="rating"></>\n                                <input type="radio" class="reting-item" value="4" name="rating"></>\n                                <input type="radio" class="reting-item" value="5" name="rating"></>\n                            </div>\n                            </div>\n                        </div>\n                    <div class="library-container-about">\n                        <h3 class="library-movie-title">${d}</h3>     \n                        <span class="library-genre-title">${l}</span><span class="library-genre-title"> | ${m}</span>   \n                    </div> \n            </div>\n            </div>\n        </div>`})).join("")}(e,t);i.insertAdjacentHTML("beforeend",n)}!async function(){try{c={},s=await(0,o.trendMovieRequest)(d);(await(0,o.upcomingMovieGenreRequest)()).forEach((e=>{c[e.id]=e.name})),f(s.results,c),u()}catch(e){console.log(e)}}();let v,h=1;const y=document.querySelector(".catalog-form"),E=document.querySelector(".js-catalog-search"),L=document.querySelector("#js-search-select");function M(e){let t=e;r.innerHTML="";const n=Math.floor(2.5);let a=Math.max(h-n,1),i=Math.min(a+5-1,t);i-a+1<5&&(a=Math.max(i-5+1,1)),h>1&&function(){const e=document.createElement("a");e.href="#",e.textContent="<",e.addEventListener("click",(async function(){h-=1,console.log(h);const e=await(0,o.searchRequest)(formEvt,formYear,h);f(e.results,l),M(e.total_pages)})),r.appendChild(e)}(),a>1&&(b(1),a>2&&g());for(let e=a;e<=i;e++)b(e);i<t&&(i<t-1&&g(),b(t)),h<t&&function(){const e=document.createElement("a");e.href="#",e.textContent=">",e.addEventListener("click",(async function(){h+=1,console.log(h);const e=await(0,o.searchRequest)(formEvt,formYear,h);f(e.results,l),M(e.total_pages)})),r.appendChild(e)}()}function b(e){const t=document.createElement("div");t.classList.add("page-number");const n=document.createElement("a");n.classList="catalog-pagination-link",n.href="#",n.textContent=p(e),e===h&&(n.classList.add("active"),t.classList.add("active")),n.addEventListener("click",(async function(){h=e,console.log(h),v=await(0,o.searchRequest)(formEvt,formYear,h),f(v.results,l),M(v.total_pages)})),t.appendChild(n),r.appendChild(t)}console.log(y),console.log(E),function(){const e=(new Date).getFullYear();for(let t=1940;t<=e;t++){const e=document.createElement("option");e.classList.add("selectOption"),e.value=t,e.text=t,L.appendChild(e)}}(),y.addEventListener("submit",(async function(e){try{e.preventDefault(),l={},formEvt=e.currentTarget.elements.catalogSearchQuery.value,formYear=e.currentTarget.elements.select.value;const t=await(0,o.searchRequest)(formEvt,formYear,h);(await(0,o.upcomingMovieGenreRequest)()).forEach((e=>{l[e.id]=e.name})),formEvt.length>1&&(i.innerHTML="",f(t.results,l),console.log(t.results));M(t.total_pages)}catch(e){console.log(e)}}));
//# sourceMappingURL=catalog.71ce6ef5.js.map
