{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,0BAEMC,EAAaC,SAASC,cAAc,oBACpCC,EAAiBC,aAAaC,QAAQ,W,SAE7BC,I,OAAAA,EAAfC,EAAAT,EAAA,CAAAS,EAAAC,GAAAC,MAAA,SAAAC,I,IAKUC,E,8EAHCR,EAAc,C,iEAGF,EAAAS,EAAAC,mBAAkBV,G,OAA/BQ,EAAIG,EAAAC,KAEVC,QAAQC,IAAIN,GACZX,EAAWkB,mBAAmB,YAAaC,EAAoBR,I,kDAE/DK,QAAQC,IAAGH,EAAAM,I,2DAVgBC,MAAAC,KAAAC,U,CAc/B,SAASJ,EAAoBK,GACzB,IAAQC,EAA4DD,EAA5DC,aAAcC,EAA8CF,EAA9CE,cAAeC,EAA+BH,EAA/BG,OAAQC,EAAuBJ,EAAvBI,MAAOC,EAAgBL,EAAhBK,aAE9CC,EADcH,EAAOI,MAAM,EAAG,GACNC,KAAI,SAAAC,G,OAASA,EAAMC,I,IAAMC,KAAK,MAE5D,OADAnB,QAAQC,IAAIY,GACL,mJAG4CO,OAF0DV,EAAc,qHAGvEU,OADDR,EAAM,sEACmDQ,OAAxDN,EAAU,gDAAuEM,OAAzBX,EAAaM,MAAM,EAAG,GAAG,2H,aAvB1HzB,EAAgBe,MAAAC,KAAAC,U,CA8B/Bc,E","sources":["src/js/library.js"],"sourcesContent":["import { libraryMovieQuery } from './apikey';\n\nconst libraryBox = document.querySelector('.library-js-list');\nconst localStorageId = localStorage.getItem('movieId');\n\nasync function initLibraryFetch() {\n  try {      \n      if (!localStorageId) {\n        return\n    }\n    const data = await libraryMovieQuery(localStorageId);\n\n    console.log(data);\n    libraryBox.insertAdjacentHTML('beforeend', createLibraryMarkup(data));\n  } catch (err) {\n    console.log(err);\n  }\n}\n\nfunction createLibraryMarkup(arr) {\n    const { release_date, backdrop_path, genres, title, vote_average} = arr;\n    const genreSliced = genres.slice(0, 2);\n    const genreName = genreSliced.map(genre => genre.name).join(\", \");\n    console.log(vote_average);\n    return `<div class=\"library-container\">\n            <div class=\"library-container-img\" style=\"background-image: url(https://image.tmdb.org/t/p/original${backdrop_path});\">\n               <div class=\"library-container-about\">\n                     <h3 class=\"library-movie-title\">${title}</h3>     \n                    <span class=\"library-genre-title\">${genreName}</span><span class=\"library-genre-title\"> | ${release_date.slice(0, 4)}</span>   \n               </div> \n               <div class=\"library-rating\"></div>\n          </div>\n         </div>`;\n};\n\ninitLibraryFetch();\n\n//   Зірочки\n// const ratings = document.querySelectorAll('.rating');\n// if (ratings.length > 0) {\n//   initRatings();\n// }\n\n// function initRatings() {\n//   let ratingActive, ratingValue;\n//   for (let i = 0; i < ratings.length; i++) {\n//     const rating = ratings[i];\n//     initRating(rating);\n//   }\n// }\n\n// function initRating(rating) {\n//   initRatingVars(rating);\n//   setRetingActiveWidth();\n// }\n\n// function initRatingVars(rating) {\n//   ratingActive = rating.querySelector('.rating-active');\n//   ratingValue = rating.querySelector('.rating-value');\n// }\n\n// function setRetingActiveWidth(index = ratingValue.innerHTML) {\n//   const ratingActiveWidth = parseFloat(ratingValue.innerHTML) / 0.05;\n//   ratingActive.style.width = `${ratingActiveWidth}%`;\n// }\n\n// function convertRatingToPercentage(rating) {\n//   // Перетворюємо рейтинг у відсотки\n//   const percentage = (rating / 10) * 100;\n\n//   // Округлюємо значення до двох знаків після коми\n//   const roundedPercentage = Math.round(percentage * 100) / 100;\n\n//   return roundedPercentage;\n// }"],"names":["$bpxeT","parcelRequire","$93effc6fc56091ad$var$libraryBox","document","querySelector","$93effc6fc56091ad$var$localStorageId","localStorage","getItem","$93effc6fc56091ad$var$_initLibraryFetch","$parcel$interopDefault","$2TvXO","mark","_callee","data","$hDMWd","libraryMovieQuery","_ctx","sent","console","log","insertAdjacentHTML","$93effc6fc56091ad$var$createLibraryMarkup","t0","apply","this","arguments","arr","release_date","backdrop_path","genres","title","vote_average","genreName","slice","map","genre","name","join","concat","$93effc6fc56091ad$var$initLibraryFetch"],"version":3,"file":"library.67ac9b95.js.map"}