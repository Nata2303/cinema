{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,0BAGMC,G,aAAWC,SAASC,cAAc,gB,SAGzBC,I,OAAAA,EAAfC,EAAAN,EAAA,CAAAM,EAAAC,GAAAC,MAAA,SAAAC,I,IAEQC,EAEEC,E,kFAFFD,EAAS,G,UAEM,EAAAE,EAAAC,qB,cAAbF,EAAIG,EAAAC,KACVC,QAAQC,IAAIN,EAAKO,SACjBF,QAAQC,IAAIN,G,UACa,EAAAC,EAAAO,6B,OAATL,EAAAC,KAELK,SAAQ,SAAAC,GACjBX,EAAOW,EAAMC,IAAMD,EAAME,I,IAO3BP,QAAQC,IAAIP,GAEZR,EAASsB,mBACP,YACAC,EAAmBd,EAAKO,QAASR,I,kDAKnCM,QAAQC,IAAGH,EAAAY,I,2DA1BgBC,MAAAC,KAAAC,U,CA8B/B,SAASJ,EAAmBK,EAAKpB,GAC/B,OAAOoB,EACJC,KAAI,SAAAC,GACH,IAmBIC,EAOAC,EAuCgCC,EAElCC,EAlEAC,EAOEL,EAPFK,aACAC,EAMEN,EANFM,cACAC,EAKEP,EALFO,UACAC,EAIER,EAJFQ,MACAC,EAGET,EAHFS,aACAlB,EAEES,EAFFT,KACAmB,EACEV,EADFU,eAKIC,EAFaJ,EAAUK,MAAM,EAAG,GAGnCb,KAAI,SAAAc,GACH,OAAOnC,EAAOmC,E,IAEfC,KAAK,MAiBR,OAVEb,EAHGO,GACQjB,EASXW,EAHGG,GACOK,EAKL,4JAI0DK,OAH8CT,EAAc,4LAgBzES,QAehBZ,EA3BZM,EA6BtBL,EAAaD,EAAU,GAAM,IAGTa,KAAKC,MAAmB,IAAbb,GAAoB,KA/B7B,4xBAY8BW,OADFd,EAAS,0EACkDc,OAAzDJ,EAAW,gDAG/DI,OAH6Gb,EAAQU,MACrH,EACA,GACA,kG,IAMHE,KAAK,G,CA/FV9B,QAAQC,IAAIf,G,WAEGG,EAAgBsB,MAAAC,KAAAC,U,CAgG/BqB,E","sources":["src/js/catalog.js"],"sourcesContent":["import { trendMovieRequest } from './apikey.js';\nimport { upcomingMovieGenreRequest } from './apikey.js';\n\nconst dayTrend = document.querySelector('.catalog-js');\nconsole.log(dayTrend);\n\nasync function initCatalogFetch() {\n  try {\n    let genres = {};\n\n    const data = await trendMovieRequest();\n    console.log(data.results);\n    console.log(data);\n    const genresData = await upcomingMovieGenreRequest();\n\n    genresData.forEach(genre => {\n      genres[genre.id] = genre.name;\n    });\n\n    //   const randomData = Math.floor(Math.random() * data.results.length);\n    //   const randomDataRes = data.results[randomData];\n\n    //   console.log(randomDataRes);\n    console.log(genres);\n\n    dayTrend.insertAdjacentHTML(\n      'beforeend',\n      catalogTrendMarkup(data.results, genres)\n    );\n\n    //   changeClick(randomDataRes.id);\n  } catch (err) {\n    console.log(err);\n  }\n}\n\nfunction catalogTrendMarkup(arr, genres) {\n  return arr\n    .map(movie => {\n      const {\n        release_date,\n        backdrop_path,\n        genre_ids,\n        title,\n        vote_average,\n        name,\n        first_air_date,\n      } = movie;\n\n      const genreSlice = genre_ids.slice(0, 2);\n\n      const genreNames = genreSlice\n        .map(genreId => {\n          return genres[genreId];\n        })\n        .join(', ');\n\n      //с бэкэнда на некоторые фильмы приходит не title, а name\n      let filmName;\n      if (!title) {\n        filmName = name;\n      } else {\n        filmName = title;\n      }\n\n      let release;\n      if (!release_date) {\n        release = first_air_date;\n      } else {\n        release = release_date;\n      }\n\n      return `<div class=\"library-container-item\">\n                <div class=\"library-container-img\" style=\"background-image: url(https://image.tmdb.org/t/p/original${backdrop_path});\">\n                <div class=\"rating-libr rating-library\">\n                        <div class=\"rating-body\">\n                            <div class=\"rating-active\" style=\"width: ${convertRatingToPercentage(\n                              vote_average\n                            )}%;\"></div>\n                            <div class=\"rating-items\">\n                                <input type=\"radio\" class=\"reting-item\" value=\"1\" name=\"rating\"></>\n                                <input type=\"radio\" class=\"reting-item\" value=\"2\" name=\"rating\"></>\n                                <input type=\"radio\" class=\"reting-item\" value=\"3\" name=\"rating\"></>\n                                <input type=\"radio\" class=\"reting-item\" value=\"4\" name=\"rating\"></>\n                                <input type=\"radio\" class=\"reting-item\" value=\"5\" name=\"rating\"></>\n                            </div>\n                            </div>\n                        </div>\n                    <div class=\"library-container-about\">\n                        <h3 class=\"library-movie-title\">${filmName}</h3>     \n                        <span class=\"library-genre-title\">${genreNames}</span><span class=\"library-genre-title\"> | ${release.slice(\n        0,\n        4\n      )}</span>   \n                    </div> \n            </div>\n            </div>\n        </div>`;\n    })\n    .join('');\n}\n\ninitCatalogFetch();\n\nexport function convertRatingToPercentage(rating) {\n  // Перетворюємо рейтинг у відсотки\n  const percentage = (rating / 10) * 100;\n\n  // Округлюємо значення до двох знаків після коми\n  const roundedPercentage = Math.round(percentage * 100) / 100;\n\n  return roundedPercentage;\n}\n\n// $('#demo').pagination({\n//   dataSource: [1, 2, 3, 4, 5, 6, 7, ... , 195],\n//   callback: function(data, pagination) {\n//       // template method of yourself\n//       var html = template(data);\n//       dataContainer.html(html);\n//   }\n// })\n"],"names":["$bpxeT","parcelRequire","$01039996e00cb7ba$var$dayTrend","document","querySelector","$01039996e00cb7ba$var$_initCatalogFetch","$parcel$interopDefault","$2TvXO","mark","_callee","genres","data","$hDMWd","trendMovieRequest","_ctx","sent","console","log","results","upcomingMovieGenreRequest","forEach","genre","id","name","insertAdjacentHTML","$01039996e00cb7ba$var$catalogTrendMarkup","t0","apply","this","arguments","arr","map","movie","filmName","release","rating","percentage","release_date","backdrop_path","genre_ids","title","vote_average","first_air_date","genreNames","slice","genreId","join","concat","Math","round","$01039996e00cb7ba$var$initCatalogFetch"],"version":3,"file":"catalog.52fdc14f.js.map"}