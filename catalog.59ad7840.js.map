{"mappings":"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","sources":["src/js/search.js","src/js/catalog.js"],"sourcesContent":["import { searchRequest } from './apikey';\nimport { upcomingMovieGenreRequest } from './apikey';\nimport Notiflix from 'notiflix';\nimport { renderCatalog } from './catalog';\nimport { dayTrend } from './catalog';\nimport { paginationContainer } from './catalog';\nimport { formatPageNumber } from './catalog';\nimport { addEllipsis } from './catalog';\nimport { initCatalogFetch } from './catalog';\n\nlet genres;\nlet currentPage = 1;\nlet movieRequest;\nlet paginationVisible = true;\n\nconst searchForm = document.querySelector('.catalog-form');\nconst filmSearchList = document.querySelector('.js-catalog-search');\nconst yearSelect = document.querySelector('#js-search-select');\n\nconsole.log(searchForm);\nconsole.log(filmSearchList);\n\nfunction createSelect() {\n  const currentYear = new Date().getFullYear();\n\n  for (let i = 1940; i <= currentYear; i++) {\n    const option = document.createElement('option');\n    option.classList.add('selectOption');\n    option.value = i;\n    option.text = i;\n    yearSelect.appendChild(option);\n  }\n}\n\ncreateSelect();\n\nsearchForm.addEventListener('submit', handleSearch);\n\nasync function handleSearch(evt) {\n  try {\n    evt.preventDefault();\n    paginationContainer.innerHTML = '';\n\n    genres = {};\n\n    formEvt = evt.currentTarget.elements.catalogSearchQuery.value;\n    formYear = evt.currentTarget.elements.select.value;\n\n    movieRequest = await searchRequest(formEvt, formYear, currentPage);\n    const genresData = await upcomingMovieGenreRequest();\n\n    genresData.forEach(genre => {\n      genres[genre.id] = genre.name;\n    });\n\n    if (formEvt.length === 0) {\n      dayTrend.innerHTML = '';\n      initCatalogFetch();\n    }\n\n    if (formEvt.length > 1) {\n      dayTrend.innerHTML = '';\n      renderCatalog(movieRequest.results, genres);\n    }\n\n    if (movieRequest.results.length === 0) {\n      paginationVisible = false;\n      dayTrend.innerHTML = `<div class=\"opsContainer\">\n        <p class=\"opsText\">OOPS...<br>We are very sorry!<br>We don't have any results matching your search</p>\n      </div>`;\n    } else {\n      paginationVisible = true;\n    }\n\n    if (!paginationVisible) {\n      paginationContainer.style.display = 'none';\n    } else {\n      paginationContainer.style.display = 'flex';\n    }\n    setupPaginationSearch(movieRequest.total_pages);\n  } catch (err) {\n    console.log(err);\n  }\n}\n\nfunction setupPaginationSearch(movieTotalPages) {\n  if (!paginationVisible) {\n    return;\n  }\n  let totalPages = movieTotalPages;\n\n  paginationContainer.innerHTML = '';\n\n  const maxVisiblePages = 5; // Максимальное количество видимых страниц, включая символ \"...\"\n  const halfVisiblePages = Math.floor(maxVisiblePages / 2);\n\n  let startPage = Math.max(currentPage - halfVisiblePages, 1);\n  let endPage = Math.min(startPage + maxVisiblePages - 1, totalPages);\n\n  if (endPage - startPage + 1 < maxVisiblePages) {\n    startPage = Math.max(endPage - maxVisiblePages + 1, 1);\n  }\n\n  if (currentPage > 1) {\n    addPrevPageLink(); // Добавляем стрелку \"<\" для перехода на предыдущую страницу\n  }\n\n  if (startPage > 1) {\n    addPageLink(1); // Добавляем ссылку на первую страницу\n    if (startPage > 2) {\n      addEllipsis(); // Добавляем символ \"...\" для скрытых страниц\n    }\n  }\n\n  for (let i = startPage; i <= endPage; i++) {\n    addPageLink(i); // Добавляем ссылки на видимые страницы\n  }\n\n  if (endPage < totalPages) {\n    if (endPage < totalPages - 1) {\n      addEllipsis(); // Добавляем символ \"...\" для скрытых страниц\n    }\n    addPageLink(totalPages); // Добавляем ссылку на последнюю страницу\n  }\n\n  if (currentPage < totalPages) {\n    addNextPageLink(); // Добавляем стрелку \">\" для перехода на следующую страницу\n  }\n}\n\nfunction addPageLink(pageNumber) {\n  const pageDiv = document.createElement('div');\n  pageDiv.classList.add('page-number');\n  const pageLink = document.createElement('a');\n  pageLink.classList = 'catalog-pagination-link';\n  pageLink.href = '#';\n  pageLink.textContent = formatPageNumber(pageNumber);\n\n  if (pageNumber === currentPage) {\n    pageLink.classList.add('active');\n    pageDiv.classList.add('active');\n  }\n\n  pageLink.addEventListener('click', async function () {\n    if (!paginationVisible) {\n      return;\n    }\n    currentPage = pageNumber;\n    console.log(currentPage);\n    movieRequest = await searchRequest(formEvt, formYear, currentPage);\n    renderCatalog(movieRequest.results, genres);\n    setupPaginationSearch(movieRequest.total_pages);\n  });\n\n  pageDiv.appendChild(pageLink);\n  paginationContainer.appendChild(pageDiv);\n}\n\nfunction addPrevPageLink() {\n  const prevPageLink = document.createElement('a');\n  prevPageLink.href = '#';\n  prevPageLink.textContent = '<';\n  prevPageLink.addEventListener('click', async function () {\n    currentPage -= 1;\n    console.log(currentPage);\n    const movieRequest = await searchRequest(formEvt, formYear, currentPage);\n    renderCatalog(movieRequest.results, genres);\n    setupPaginationSearch(movieRequest.total_pages);\n  });\n  paginationContainer.appendChild(prevPageLink);\n}\n\nfunction addNextPageLink() {\n  const nextPageLink = document.createElement('a');\n  nextPageLink.href = '#';\n  nextPageLink.textContent = '>';\n  nextPageLink.addEventListener('click', async function () {\n    currentPage += 1;\n    console.log(currentPage);\n    const movieRequest = await searchRequest(formEvt, formYear, currentPage);\n    renderCatalog(movieRequest.results, genres);\n    setupPaginationSearch(movieRequest.total_pages);\n  });\n  paginationContainer.appendChild(nextPageLink);\n}\n\n// function addWrongBtn() {\n//   dayTrend.innerHTML = `<div><p class=\"opsText\">OOPS... <br> We are very sorry!<br> You don't have any movies at your library </p>\n//   </div>`;\n//   const wrongBtn = document.createElement('button');\n//   wrongBtn.classList.add('wrongBtn');\n//   wrongBtn.textContent = 'Search Movie';\n//   dayTrend.append(wrongBtn);\n//   paginationContainer.style.display = 'none';\n//   searchForm.style.display = 'none';\n\n//   wrongBtn.addEventListener('click', () => {\n//     searchForm.reset();\n//     initCatalogFetch();\n//     handleSearch();\n//     paginationContainer.style.display = 'flex';\n//     searchForm.style.display = 'flex';\n//   });\n// }\n","import { trendMovieRequest } from './apikey.js';\nimport { upcomingMovieGenreRequest } from './apikey.js';\n\nexport const dayTrend = document.querySelector('.catalog-js');\nexport const paginationContainer = document.querySelector(\n  '.pagination-container'\n);\nlet currentPage = 1;\nlet trendData;\nlet genres;\n\n///////////\n\n///////////\n\nexport async function initCatalogFetch() {\n  try {\n    genres = {};\n    trendData = await trendMovieRequest(currentPage);\n    const genresData = await upcomingMovieGenreRequest();\n\n    genresData.forEach(genre => {\n      genres[genre.id] = genre.name;\n    });\n\n    renderCatalog(trendData.results, genres);\n\n    setupPagination();\n  } catch (err) {\n    console.log(err);\n  }\n}\n\nfunction setupPagination() {\n  let totalPages = trendData.total_pages;\n  paginationContainer.innerHTML = '';\n\n  const maxVisiblePages = 5; // Максимальное количество видимых страниц, включая символ \"...\"\n  const halfVisiblePages = Math.floor(maxVisiblePages / 2);\n\n  let startPage = Math.max(currentPage - halfVisiblePages, 1);\n  let endPage = Math.min(startPage + maxVisiblePages - 1, totalPages);\n\n  if (endPage - startPage + 1 < maxVisiblePages) {\n    startPage = Math.max(endPage - maxVisiblePages + 1, 1);\n  }\n\n  if (currentPage > 1) {\n    addPrevPageLink(); // Добавляем стрелку \"<\" для перехода на предыдущую страницу\n  }\n\n  if (startPage > 1) {\n    addPageLink(1); // Добавляем ссылку на первую страницу\n    if (startPage > 2) {\n      addEllipsis(); // Добавляем символ \"...\" для скрытых страниц\n    }\n  }\n\n  for (let i = startPage; i <= endPage; i++) {\n    addPageLink(i); // Добавляем ссылки на видимые страницы\n  }\n\n  if (endPage < totalPages) {\n    if (endPage < totalPages - 1) {\n      addEllipsis(); // Добавляем символ \"...\" для скрытых страниц\n    }\n    addPageLink(totalPages); // Добавляем ссылку на последнюю страницу\n  }\n\n  if (currentPage < totalPages) {\n    addNextPageLink(); // Добавляем стрелку \">\" для перехода на следующую страницу\n  }\n}\n\nfunction addPageLink(pageNumber) {\n  const pageDiv = document.createElement('div');\n  pageDiv.classList.add('page-number');\n  const pageLink = document.createElement('a');\n  pageLink.classList = 'catalog-pagination-link';\n  pageLink.href = '#';\n  pageLink.textContent = formatPageNumber(pageNumber);\n\n  if (pageNumber === currentPage) {\n    pageLink.classList.add('active');\n    pageDiv.classList.add('active');\n  }\n\n  pageLink.addEventListener('click', async function () {\n    currentPage = pageNumber;\n    console.log(currentPage);\n    trendData = await trendMovieRequest(currentPage);\n    renderCatalog(trendData.results, genres);\n    setupPagination(trendData.total_pages);\n  });\n\n  pageDiv.appendChild(pageLink);\n  paginationContainer.appendChild(pageDiv);\n}\n\nexport function formatPageNumber(pageNumber) {\n  // Добавляем ведущий ноль, если номер страницы меньше 10\n  return pageNumber < 10 ? `0${pageNumber}` : pageNumber.toString();\n}\n\nexport function addEllipsis() {\n  const ellipsisSpan = document.createElement('span');\n  ellipsisSpan.textContent = '...';\n  paginationContainer.appendChild(ellipsisSpan);\n}\n\nfunction addPrevPageLink() {\n  const prevPageLink = document.createElement('a');\n  prevPageLink.href = '#';\n  prevPageLink.textContent = '<';\n  prevPageLink.addEventListener('click', async function () {\n    currentPage -= 1;\n    console.log(currentPage);\n    trendData = await trendMovieRequest(currentPage);\n    renderCatalog(trendData.results, genres);\n    setupPagination(trendData.total_pages);\n  });\n  paginationContainer.appendChild(prevPageLink);\n}\n\nfunction addNextPageLink() {\n  const nextPageLink = document.createElement('a');\n  nextPageLink.href = '#';\n  nextPageLink.textContent = '>';\n  nextPageLink.addEventListener('click', async function () {\n    currentPage += 1;\n    console.log(currentPage);\n    trendData = await trendMovieRequest(currentPage);\n    renderCatalog(trendData.results, genres);\n    setupPagination(trendData.total_pages);\n  });\n  paginationContainer.appendChild(nextPageLink);\n}\n\nexport function renderCatalog(arr, genres) {\n  dayTrend.innerHTML = ''; // Clear the container\n\n  const htmlMarkup = catalogTrendMarkup(arr, genres);\n  dayTrend.insertAdjacentHTML('beforeend', htmlMarkup);\n}\n\nexport function catalogTrendMarkup(arr, genres) {\n  return arr\n    .map(movie => {\n      const {\n        release_date,\n        backdrop_path,\n        genre_ids,\n        title,\n        vote_average,\n        name,\n        poster_path,\n      } = movie;\n\n      const genreSlice = genre_ids;\n\n      const genreNames = genreSlice\n        .map(genreId => {\n          return genres[genreId];\n        })\n        .join(', ');\n\n      //с бэкэнда на некоторые фильмы приходит не title, а name\n      let filmName;\n      if (!title) {\n        filmName = name;\n      } else {\n        filmName = title;\n      }\n\n      let release = release_date.slice(0, 4);\n      if (!release || release === '') {\n        release = 'unknown';\n      }\n\n      let poster;\n      if (!backdrop_path && !poster_path) {\n        poster = '/vL5LR6WdxWPjLPFRLe133jXWsh5.jpg';\n      } else if (!backdrop_path) {\n        poster = poster_path;\n      } else {\n        poster = backdrop_path;\n      }\n\n      return `<div class=\"library-container-item\">\n                <div class=\"library-container-img\" style=\"background-image: url(https://image.tmdb.org/t/p/original${poster});\">\n                <div class=\"rating-libr rating-library\">\n                        <div class=\"rating-body\">\n                            <div class=\"rating-active\" style=\"width: ${convertRatingToPercentage(\n                              vote_average\n                            )}%;\"></div>\n                            <div class=\"rating-items\">\n                                <input type=\"radio\" class=\"reting-item\" value=\"1\" name=\"rating\"></>\n                                <input type=\"radio\" class=\"reting-item\" value=\"2\" name=\"rating\"></>\n                                <input type=\"radio\" class=\"reting-item\" value=\"3\" name=\"rating\"></>\n                                <input type=\"radio\" class=\"reting-item\" value=\"4\" name=\"rating\"></>\n                                <input type=\"radio\" class=\"reting-item\" value=\"5\" name=\"rating\"></>\n                            </div>\n                            </div>\n                        </div>\n                    <div class=\"library-container-about\">\n                        <h3 class=\"library-movie-title\">${filmName}</h3>     \n                        <span class=\"library-genre-title\">${genreNames}</span><span class=\"library-genre-title\"> | ${release}</span>   \n                    </div> \n            </div>\n            </div>\n        </div>`;\n    })\n    .join('');\n}\n\ninitCatalogFetch();\n\nexport function convertRatingToPercentage(rating) {\n  // Перетворюємо рейтинг у відсотки\n  const percentage = (rating / 10) * 100;\n\n  // Округлюємо значення до двох знаків після коми\n  const roundedPercentage = Math.round(percentage * 100) / 100;\n\n  return roundedPercentage;\n}\n"],"names":["$bpxeT","parcelRequire","$01039996e00cb7ba$var$trendData","$01039996e00cb7ba$var$genres","$d35904b1c7f1c41e$var$genres","$01039996e00cb7ba$export$65b190bf57aeec48","document","querySelector","$01039996e00cb7ba$export$5dd819bdfbc7b15d","$01039996e00cb7ba$var$currentPage","$01039996e00cb7ba$export$ac223bdbc578cc64","$01039996e00cb7ba$var$_initCatalogFetch","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","$hDMWd","trendMovieRequest","_ctx","sent","upcomingMovieGenreRequest","forEach","genre","id","name","$01039996e00cb7ba$export$6d2cdb15d4f6744","results","$01039996e00cb7ba$var$setupPagination","console","log","t0","totalPages","total_pages","innerHTML","prevPageLink","nextPageLink","halfVisiblePages","Math","floor","maxVisiblePages","startPage","max","endPage","min","createElement","href","textContent","addEventListener","appendChild","$01039996e00cb7ba$var$addPageLink","$01039996e00cb7ba$export$92eb9173bebbaa4a","i","pageNumber","pageDiv","classList","add","pageLink","$01039996e00cb7ba$export$6fdc1d5fc92215b9","concat","toString","ellipsisSpan","arr","genres1","htmlMarkup","genres2","map","movie","filmName","release_date","backdrop_path","genre_ids","title","vote_average","poster_path","genreNames","genreId","join","rating","percentage","release","slice","round","$01039996e00cb7ba$export$8a70c9415fcb563f","insertAdjacentHTML","$d35904b1c7f1c41e$var$movieRequest","$d35904b1c7f1c41e$var$currentPage","$d35904b1c7f1c41e$var$paginationVisible","$d35904b1c7f1c41e$var$searchForm","$d35904b1c7f1c41e$var$filmSearchList","$d35904b1c7f1c41e$var$yearSelect","$d35904b1c7f1c41e$var$_handleSearch","evt","preventDefault","formEvt","currentTarget","elements","catalogSearchQuery","value","formYear","select","searchRequest","length","style","display","$d35904b1c7f1c41e$var$setupPaginationSearch","movieTotalPages","movieRequest1","$d35904b1c7f1c41e$var$addPageLink","movieRequest2","currentYear","Date","getFullYear","option","text","$d35904b1c7f1c41e$var$createSelect"],"version":3,"file":"catalog.59ad7840.js.map"}