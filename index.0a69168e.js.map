{"mappings":"AAEgBA,SAASC,cAAc,kBADvC,MAKMC,EAASC,aAAaC,QAAQ,cAEpC,SAASC,IAYP,OAAOC,MAVL,sCAAsCJ,0BACxB,CACdK,OAAQ,MACRC,QAAS,CACPC,OAAQ,mBACRC,cACE,gOAKHC,MAAKC,IACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAM,0BAElB,OAAOF,EAASG,MAAM,IAEvBC,OAAMC,IAEL,MA0DN,WACE,MAAMC,EAAelB,SAASC,cAAc,oBACtCkB,EAAQnB,SAASoB,eAAe,SAChCC,EAAgBF,EAAMlB,cAAc,UAExC,SAAOqB,IACPH,EAAMI,MAAMC,QAAU,O,CAExB,SAASC,IACPN,EAAMI,MAAMC,QAAU,M,CAExBN,EAAaQ,iBAAiB,QAASJ,GACvCD,EAAcK,iBAAiB,QAASD,GACxCE,OAAOD,iBAAiB,SAAS,SAAUE,GACrCA,EAAMC,SAAWV,GACnBM,G,IA1EAK,GACM,IAAIhB,MAAM,yBAAyB,G,CAI/CiB,YAEA,WAAmC1B,IAAcM,MAAKqB,GAAaA,EAAEC,QAAQ,KAAKtB,MAAKqB,GAGvF,SAAqBE,GAGrB,MAAMhB,EAAelB,SAASC,cAAc,oBACpCkB,EAAQnB,SAASoB,eAAe,SAChCC,EAAgBF,EAAMlB,cAAc,UAGR,SAAzBqB,IACPH,EAAMI,MAAMC,QAAU,O,CAIS,SAAxBC,IACPN,EAAMI,MAAMC,QAAU,M,CAIHN,EAARQ,iBAAiB,QAASJ,GACvCD,EAAcK,iBAAiB,QAASD,GACxCE,OAAOD,iBAAiB,SAAS,SAAUE,GACrCA,EAAMC,SAAWV,GACnBM,G,IAIJ,MAAMU,EAAO,CACXC,aAAapC,SAASC,cAAc,mBAKlCoC,EAAWH,EAAMI,IACvBC,QAAQC,IAAIH,GAEZ,MAAMI,EAAczC,SAAS0C,cAAc,UACzCD,EAAYE,IAAM,iCAAiCN,IACnDI,EAAYG,iBAAkB,EAC9BH,EAAYI,UAAUC,IAAI,mBAI5BX,EAAKC,aAAaW,UAAY,GAE9BZ,EAAKC,aAAaY,YAAYP,E,CA/C8DQ,CAAWjB,I,GAFpE","sources":["src/js/modalTrailer.js"],"sourcesContent":["\nconst refs = {\n  modalTrailer: document.querySelector('.modal-content')\n}\n\n\nconst filmId = localStorage.getItem('filmIdstor')\n\nfunction fetchBreeds() {\n  const url =\n    `https://api.themoviedb.org/3/movie/${filmId}/videos?language=en-US`;\n  const options = {\n    method: 'GET',\n    headers: {\n      Accept: 'application/json',\n      Authorization:\n        'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlOGFlZjVlODMzOTZmYmViNmY2MmU4NmNmZmViYjk4MSIsInN1YiI6IjY0ODIzMjcxZDJiMjA5MDBlYmJmM2Y5OCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.VO3Y1F5-wzOGPgGegX0KKGPSKeCvq8s50R1CV3r3ln0',\n    },\n  };\n\n  return fetch(url, options)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Failed to fetch breeds');\n      }\n      return response.json();\n    })\n    .catch(error => {\n      onFail()\n      throw new Error('Failed to fetch breeds');\n    });\n}\n\nsetTimeout(fetchTrailerForTimeOut, 500)\n\nfunction fetchTrailerForTimeOut (){fetchBreeds().then(r => {return r.results[0]}).then(r => videoMaker(r))}\n\n\nfunction videoMaker (video) {\n\n//==========\nconst openModalBtn = document.querySelector('.hero-btn-static');\n  const modal = document.getElementById('modal');\n  const closeModalBtn = modal.querySelector('.close');\n  \n  // Функція для відкриття модального вікна\n  function openModal() {\n    modal.style.display = 'block';\n  }\n  \n  // Функція для закриття модального вікна\n  function closeModal() {\n    modal.style.display = 'none';\n  }\n  \n  // Додаємо обробники подій\n  openModalBtn.addEventListener('click', openModal);\n  closeModalBtn.addEventListener('click', closeModal);\n  window.addEventListener('click', function (event) {\n    if (event.target === modal) {\n      closeModal();\n    }\n  });\n  \n  const refs = {\n    modalTrailer:document.querySelector('.modal-content')\n    \n  }\n//==========\n\nconst videoKey = video.key;\nconsole.log(videoKey)\n\nconst videoIframe = document.createElement('iframe');\n  videoIframe.src = `https://www.youtube.com/embed/${videoKey}`;\n  videoIframe.allowFullscreen = true;\n  videoIframe.classList.add('you-tube-iframe')\n  \n  \n  \nrefs.modalTrailer.innerHTML = '';\n\nrefs.modalTrailer.appendChild(videoIframe);\n\n}\n\n\nfunction onFail () {\n  const openModalBtn = document.querySelector('.hero-btn-static');\n  const modal = document.getElementById('modal');\n  const closeModalBtn = modal.querySelector('.close');\n  // refs.modalTrailer.innerHTML = '<span class=\"close\"></span><div class=\"modal-fail-box\"><p class=\"modal-fail-text\">OOPS...<br>We are very sorry!<br>But we couldn’t find the trailer.</p></div>'\n  function openModal() {\n    modal.style.display = 'block';\n  }\n  function closeModal() {\n    modal.style.display = 'none';\n  }\n  openModalBtn.addEventListener('click', openModal);\n  closeModalBtn.addEventListener('click', closeModal);\n  window.addEventListener('click', function (event) {\n    if (event.target === modal) {\n      closeModal();\n    }\n  });\n  \n}\n\n\n// <img class=\"modal-fail-img\" src=\"./images/IMG_9881.png\" alt=\"fail-trailer-search\">\n\n// setTimeout(() => {\n  // \n//   const openModalBtn = document.querySelector('.hero-btn-static');\n//   const modal = document.getElementById('modal');\n//   const closeModalBtn = modal.querySelector('.close');\n  \n//   // Функція для відкриття модального вікна\n//   function openModal() {\n//     modal.style.display = 'block';\n//   }\n  \n//   // Функція для закриття модального вікна\n//   function closeModal() {\n//     modal.style.display = 'none';\n//   }\n  \n//   // Додаємо обробники подій\n//   openModalBtn.addEventListener('click', openModal);\n//   closeModalBtn.addEventListener('click', closeModal);\n//   window.addEventListener('click', function (event) {\n//     if (event.target === modal) {\n//       closeModal();\n//     }\n//   });\n  \n//   const refs = {\n//     modalTrailer:document.querySelector('.modal-content')\n    \n//   }\n// }, 500)"],"names":["document","querySelector","$096e75081bc23d6e$var$filmId","localStorage","getItem","$096e75081bc23d6e$var$fetchBreeds","fetch","method","headers","Accept","Authorization","then","response","ok","Error","json","catch","error","openModalBtn","modal","getElementById","closeModalBtn","openModal","style","display","closeModal","addEventListener","window","event","target","$096e75081bc23d6e$var$onFail","setTimeout","r","results","video","refs1","modalTrailer","videoKey","key","console","log","videoIframe","createElement","src","allowFullscreen","classList","add","innerHTML","appendChild","$096e75081bc23d6e$var$videoMaker"],"version":3,"file":"index.0a69168e.js.map"}