{"mappings":"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","sources":["src/js/weekly-trends.js"],"sourcesContent":["import axios from 'axios';\nconst date = new Date();\nlet genreNames = [];\nlet hewgGenreNames = '';\n\nasync function serviseFilm() {\n  try {\n    const URL =\n      'https://api.themoviedb.org/3/trending/movie/week?language=en-US';\n    const options = {\n      method: 'GET',\n      headers: {\n        accept: 'application/json',\n        Authorization:\n          'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlOGFlZjVlODMzOTZmYmViNmY2MmU4NmNmZmViYjk4MSIsInN1YiI6IjY0ODIzMjcxZDJiMjA5MDBlYmJmM2Y5OCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.VO3Y1F5-wzOGPgGegX0KKGPSKeCvq8s50R1CV3r3ln0',\n      },\n    };\n    const response = await axios.get(`${URL}`, options);\n    if (response.status !== 200) {\n      throw new Error(response.status);\n    }\n    const data = response.data;\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nconst list = document.querySelector('.weekly-trends-card-list');\nconst ratindg = document.querySelector('.rating-active');\n\nserviseFilm()\n  .then(data => {\n    const film = data.results[10];\n    const { id, title, poster_path, release_date, vote_average, genre_ids } =\n      film;\n\n    const ratindg = document.querySelector('.rating-active');\n    ratingInPercent = convertRatingToPercentage(vote_average);\n\n    serviseGenre()\n      .then(genresData => {\n        const genre = document.querySelector('.genre');\n\n        for (const genreData of genresData) {\n          if (genre_ids.includes(genreData.id)) {\n            genreNames.push(genreData.name);\n          }\n        }\n        hewgGenreNames = genreNames.join(', ');\n        genre.textContent = `${hewgGenreNames}`;\n      })\n      .catch(err => console.log(err));\n\n    const markup = `<li class=\"card-film\"><div class=\"card-container\">\n  <img src = \"https://image.tmdb.org/t/p/w500${poster_path}\" alt = \"${title}\" class=\"weekly-trends-film-img\">\n  <div class=\"film-info-poster\">\n  <h3 class=\"weekly-trends-film-title\">${title}</h3><div class=\"weekly-trends-info\">\n  <span class=\"genre\">${hewgGenreNames}</span>\n  <span>|</span>\n  <span>${date.getFullYear(release_date)}</span></div></div>\n  <div class=\"rating weekly-trends-film-rating\"><div class=\"rating-body\">\n  <div class=\"rating-active\" style=\"width: ${ratingInPercent}%;\"></div>\n  <div class=\"rating-items\">\n        <input type=\"radio\" class=\"reting-item\" value=\"1\" name=\"rating\"></>\n        <input type=\"radio\" class=\"reting-item\" value=\"2\" name=\"rating\"></>\n        <input type=\"radio\" class=\"reting-item\" value=\"3\" name=\"rating\"></>\n        <input type=\"radio\" class=\"reting-item\" value=\"4\" name=\"rating\"></>\n        <input type=\"radio\" class=\"reting-item\" value=\"5\" name=\"rating\"></>\n    </div>\n</div>\n</div>\n</li>`;\n    list.innerHTML = markup;\n  })\n  .catch(err => console.log(err));\n\n//   Зірочки\nconst ratings = document.querySelectorAll('.rating');\nif (ratings.length > 0) {\n  initRatings();\n}\n\nfunction initRatings() {\n  let ratingActive, ratingValue;\n  for (let i = 0; i < ratings.length; i++) {\n    const rating = ratings[i];\n    initRating(rating);\n  }\n}\n\nfunction initRating(rating) {\n  initRatingVars(rating);\n  setRetingActiveWidth();\n}\n\nfunction initRatingVars(rating) {\n  ratingActive = rating.querySelector('.rating-active');\n  ratingValue = rating.querySelector('.rating-value');\n}\n\nfunction setRetingActiveWidth(index = ratingValue.innerHTML) {\n  const ratingActiveWidth = parseFloat(ratingValue.innerHTML) / 0.05;\n  ratingActive.style.width = `${ratingActiveWidth}%`;\n}\n\nfunction convertRatingToPercentage(rating) {\n  // Перетворюємо рейтинг у відсотки\n  const percentage = (rating / 10) * 100;\n\n  // Округлюємо значення до двох знаків після коми\n  const roundedPercentage = Math.round(percentage * 100) / 100;\n\n  return roundedPercentage;\n}\n\n// Жанри\nasync function serviseGenre() {\n  try {\n    const URL = 'https://api.themoviedb.org/3/genre/movie/list?language=en';\n    const options = {\n      method: 'GET',\n      headers: {\n        accept: 'application/json',\n        Authorization:\n          'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlOGFlZjVlODMzOTZmYmViNmY2MmU4NmNmZmViYjk4MSIsInN1YiI6IjY0ODIzMjcxZDJiMjA5MDBlYmJmM2Y5OCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.VO3Y1F5-wzOGPgGegX0KKGPSKeCvq8s50R1CV3r3ln0',\n      },\n    };\n    const response = await axios.get(`${URL}`, options);\n    const genresData = response.data.genres;\n    return genresData;\n  } catch (err) {\n    console.log(err);\n  }\n}\n\n// const screenWidth = window.innerWidth;\n\n//     if (screenWidth >= 768) {\n\n//     } else {\n\n//     }\n"],"names":["$bpxeT","parcelRequire","$fe3a3a1ac89f0559$var$date","Date","$fe3a3a1ac89f0559$var$genreNames","$fe3a3a1ac89f0559$var$hewgGenreNames","$fe3a3a1ac89f0559$var$_serviseFilm","$parcel$interopDefault","$2TvXO","mark","_callee","options","response","data","method","headers","accept","Authorization","$dIxxU","default","get","concat","_ctx","sent","status","Error","console","log","t0","apply","this","arguments","$fe3a3a1ac89f0559$var$list","document","querySelector","$fe3a3a1ac89f0559$var$serviseFilm","then","percentage","film","results","title","id","poster_path","release_date","vote_average","genre_ids","ratingInPercent","Math","round","$fe3a3a1ac89f0559$var$_serviseGenre","$fe3a3a1ac89f0559$var$serviseGenre","genresData","genre","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","genreData","value","includes","push","name","err","return","join","textContent","catch","markup","getFullYear","innerHTML","$fe3a3a1ac89f0559$var$ratings","querySelectorAll","$fe3a3a1ac89f0559$var$initRating","rating","ratingActive","ratingValue","$fe3a3a1ac89f0559$var$initRatingVars","length","ratingActiveWidth","parseFloat","style","width","$fe3a3a1ac89f0559$var$setRetingActiveWidth","genres","i","$fe3a3a1ac89f0559$var$initRatings"],"version":3,"file":"index.f5617885.js.map"}