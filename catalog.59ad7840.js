!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){r[e]=t},t.parcelRequired7c6=a);var s=a("bpxeT"),c=a("2TvXO"),i=a("hDMWd");a("hDMWd");a("6JpON");s=a("bpxeT"),c=a("2TvXO"),a("hDMWd"),i=a("hDMWd");var o,l,u,d=document.querySelector(".catalog-js"),p=document.querySelector(".pagination-container"),v=1;function f(){return m.apply(this,arguments)}function m(){return(m=e(s)(e(c).mark((function t(){return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l={},e.next=4,(0,i.trendMovieRequest)(v);case 4:return o=e.sent,e.next=7,(0,i.upcomingMovieGenreRequest)();case 7:e.sent.forEach((function(e){l[e.id]=e.name})),b(o.results,l),g(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),t,null,[[0,13]])})))).apply(this,arguments)}function g(){var t=o.total_pages;p.innerHTML="";var n,r,a=Math.floor(2.5),u=Math.max(v-a,1),d=Math.min(u+5-1,t);d-u+1<5&&(u=Math.max(d-5+1,1)),v>1&&((n=document.createElement("a")).href="#",n.textContent="<",n.addEventListener("click",e(s)(e(c).mark((function t(){return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v-=1,console.log(v),e.next=4,(0,i.trendMovieRequest)(v);case 4:b((o=e.sent).results,l),g(o.total_pages);case 7:case"end":return e.stop()}}),t)})))),p.appendChild(n)),u>1&&(h(1),u>2&&y());for(var f=u;f<=d;f++)h(f);d<t&&(d<t-1&&y(),h(t)),v<t&&((r=document.createElement("a")).href="#",r.textContent=">",r.addEventListener("click",e(s)(e(c).mark((function t(){return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v+=1,console.log(v),e.next=4,(0,i.trendMovieRequest)(v);case 4:b((o=e.sent).results,l),g(o.total_pages);case 7:case"end":return e.stop()}}),t)})))),p.appendChild(r))}function h(t){var n=document.createElement("div");n.classList.add("page-number");var r=document.createElement("a");r.classList="catalog-pagination-link",r.href="#",r.textContent=x(t),t===v&&(r.classList.add("active"),n.classList.add("active")),r.addEventListener("click",e(s)(e(c).mark((function n(){return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v=t,console.log(v),e.next=4,(0,i.trendMovieRequest)(v);case 4:b((o=e.sent).results,l),g(o.total_pages);case 7:case"end":return e.stop()}}),n)})))),n.appendChild(r),p.appendChild(n)}function x(e){return e<10?"0".concat(e):e.toString()}function y(){var e=document.createElement("span");e.textContent="...",p.appendChild(e)}function b(e,t){d.innerHTML="";var n=function(e,t){return e.map((function(e){var n,r=e.release_date,a=e.backdrop_path,s=e.genre_ids,c=e.title,i=e.vote_average,o=e.name,l=e.poster_path,u=s.map((function(e){return t[e]})).join(", ");n=c||o;var d,p,v=r.slice(0,4);return v&&""!==v||(v="unknown"),'<div class="library-container-item">\n                <div class="library-container-img" style="background-image: url(https://image.tmdb.org/t/p/original'.concat(a||l?a||l:"/vL5LR6WdxWPjLPFRLe133jXWsh5.jpg",');">\n                <div class="rating-libr rating-library">\n                        <div class="rating-body">\n                            <div class="rating-active" style="width: ').concat((d=i,p=d/10*100,Math.round(100*p)/100),'%;"></div>\n                            <div class="rating-items">\n                                <input type="radio" class="reting-item" value="1" name="rating"></>\n                                <input type="radio" class="reting-item" value="2" name="rating"></>\n                                <input type="radio" class="reting-item" value="3" name="rating"></>\n                                <input type="radio" class="reting-item" value="4" name="rating"></>\n                                <input type="radio" class="reting-item" value="5" name="rating"></>\n                            </div>\n                            </div>\n                        </div>\n                    <div class="library-container-about">\n                        <h3 class="library-movie-title">').concat(n,'</h3>     \n                        <span class="library-genre-title">').concat(u,'</span><span class="library-genre-title"> | ').concat(v,"</span>   \n                    </div> \n            </div>\n            </div>\n        </div>")})).join("")}(e,t);d.insertAdjacentHTML("beforeend",n)}f();var L,M=1,E=!0,w=document.querySelector(".catalog-form"),k=document.querySelector(".js-catalog-search"),C=document.querySelector("#js-search-select");function T(){return(T=e(s)(e(c).mark((function t(n){return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),p.innerHTML="",u={},formEvt=n.currentTarget.elements.catalogSearchQuery.value,formYear=n.currentTarget.elements.select.value,e.next=8,(0,i.searchRequest)(formEvt,formYear,M);case 8:return L=e.sent,e.next=11,(0,i.upcomingMovieGenreRequest)();case 11:e.sent.forEach((function(e){u[e.id]=e.name})),0===formEvt.length&&(d.innerHTML="",f()),formEvt.length>1&&(d.innerHTML="",b(L.results,u)),0===L.results.length?(E=!1,d.innerHTML='<div class="opsContainer">\n        <p class="opsText">OOPS...<br>We are very sorry!<br>We don\'t have any results matching your search</p>\n      </div>'):E=!0,p.style.display=E?"flex":"none",q(L.total_pages),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0);case 23:case"end":return e.stop()}}),t,null,[[0,20]])})))).apply(this,arguments)}function q(t){if(E){var n=t;p.innerHTML="";var r,a,o=Math.floor(2.5),l=Math.max(M-o,1),d=Math.min(l+5-1,n);d-l+1<5&&(l=Math.max(d-5+1,1)),M>1&&((r=document.createElement("a")).href="#",r.textContent="<",r.addEventListener("click",e(s)(e(c).mark((function t(){var n;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M-=1,console.log(M),e.next=4,(0,i.searchRequest)(formEvt,formYear,M);case 4:b((n=e.sent).results,u),q(n.total_pages);case 7:case"end":return e.stop()}}),t)})))),p.appendChild(r)),l>1&&(_(1),l>2&&y());for(var v=l;v<=d;v++)_(v);d<n&&(d<n-1&&y(),_(n)),M<n&&((a=document.createElement("a")).href="#",a.textContent=">",a.addEventListener("click",e(s)(e(c).mark((function t(){var n;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M+=1,console.log(M),e.next=4,(0,i.searchRequest)(formEvt,formYear,M);case 4:b((n=e.sent).results,u),q(n.total_pages);case 7:case"end":return e.stop()}}),t)})))),p.appendChild(a))}}function _(t){var n=document.createElement("div");n.classList.add("page-number");var r=document.createElement("a");r.classList="catalog-pagination-link",r.href="#",r.textContent=x(t),t===M&&(r.classList.add("active"),n.classList.add("active")),r.addEventListener("click",e(s)(e(c).mark((function n(){return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E){e.next=2;break}return e.abrupt("return");case 2:return M=t,console.log(M),e.next=6,(0,i.searchRequest)(formEvt,formYear,M);case 6:b((L=e.sent).results,u),q(L.total_pages);case 9:case"end":return e.stop()}}),n)})))),n.appendChild(r),p.appendChild(n)}console.log(w),console.log(k),function(){for(var e=(new Date).getFullYear(),t=1940;t<=e;t++){var n=document.createElement("option");n.classList.add("selectOption"),n.value=t,n.text=t,C.appendChild(n)}}(),w.addEventListener("submit",(function(e){return T.apply(this,arguments)}))}();
//# sourceMappingURL=catalog.59ad7840.js.map
