{"mappings":"YA0BA,IAAMA,EAAO,CACTC,YAAaC,SAASC,cAAc,cACpCC,UAAWF,SAASC,cAAc,eAClCE,OAAQH,SAASC,cAAc,mBAfxBG,MAVL,iEACc,CACdC,OAAQ,MACRC,QAAS,CACPC,OAAQ,mBACRC,cACE,gOAKHC,MAAK,SAAAC,GACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAM,0BAElB,OAAOF,EAASG,M,IAEjBC,OAAM,SAAAC,GACL,MAAM,IAAIH,MAAM,yB,IAYAH,MAAK,SAAAO,GAExB,OAAOA,EAAEC,QAAQ,E,IAAMR,MAAK,SAAAO,GAAK,OAMtC,SAAoBE,GAGlB,SAASC,IACaC,OAAOC,YAER,KACjBvB,EAAKC,YAAYuB,MAAMC,WAAa,qHAAwIC,OAAnBN,EAAKO,cAAc,KAC5K3B,EAAKC,YAAYuB,MAAMI,eAAiB,YACxC5B,EAAKC,YAAYuB,MAAMK,iBAAmB,YAC1C7B,EAAKC,YAAYuB,MAAMM,mBAAqB,UAE5C9B,EAAKC,YAAYuB,MAAMC,WAAa,qHAAwIC,OAAnBN,EAAKO,cAAc,KAClL3B,EAAKC,YAAYuB,MAAMI,eAAiB,YACxC5B,EAAKC,YAAYuB,MAAMK,iBAAmB,YAC1C7B,EAAKC,YAAYuB,MAAMM,mBAAqB,S,CAG1CT,IAKD,IAqEkChB,EAEzB0B,EAvEHC,GAqE4B3B,EArEgBe,EAAKa,aAuE9CF,EAAa1B,EAAU,GAAM,IAGT6B,KAAKC,MAAmB,IAAbJ,GAAoB,KAxE7DK,cAAgBhB,EAAKiB,GACrBC,aAAaC,WAAW,cACxBD,aAAaE,QAAQ,aAAc,GAAiBd,OAAdU,gBAEtC,IAoBsBK,EApBhBC,GAoBgBD,EApBSrB,EAAKuB,SAqBdrB,OAAOC,YACR,IACbkB,EAAKG,OAAS,IACTH,EAAKI,UAAU,EAAG,KAAO,MAE3BJ,EAEEA,EAAKG,OAAS,IACdH,EAAKI,UAAU,EAAG,KAAO,MAE3BJ,GA7BLK,EAAe,0DAE0BpB,OAFgCN,EAAK2B,MAAM,uGAYxDrB,OAVaM,EAAgB,weAUpBN,OAATgB,EAAS,+HAGvC,OAFJ1C,EAAKI,UAAU4C,UAAYF,EAEhBA,C,CApDkCG,CAAU/B,E,IAAOP,MAAK,WAAOuC,WAAWC,EAAU,I,IAIpFxC,MAAK,W,OAAMyC,QAAQC,IAAIjB,c,IAkE3B,IAADkB,EAASpD,SAASqD,iBAAiB,WAazC,SAASC,EAAYnD,IAKrB,SAAwBA,GACpBoD,aAAepD,EAAOF,cAAc,kBACpCuD,YAAcrD,EAAOF,cAAc,gB,CANnCwD,CAAetD,GASnB,WAA+BuD,UAAAhB,OAAA,YAAAgB,UAAA,IAAQF,YAAYV,U,IAC7Ca,EAAoBC,WAAWJ,YAAYV,WAAW,IAC5DS,aAAajC,MAAMuC,MAAQ,GAAqBrC,OAAlBmC,EAAkB,I,CAV/CG,E,CAwBA,SAASb,IACNC,QAAQC,IAAIjB,c,CAvCbkB,EAAQV,OAAS,GAIpB,WAEI,IADA,IACQqB,EAAI,EAAIA,EAAIX,EAAQV,OAAQqB,IAAK,CAErCT,EADeF,EAAQW,G,EAN3BC,E","sources":["src/js/hero.js"],"sourcesContent":["\n\nfunction fetchBreeds() {\n    const url =\n      'https://api.themoviedb.org/3/trending/movie/day?language=en-US';\n    const options = {\n      method: 'GET',\n      headers: {\n        Accept: 'application/json',\n        Authorization:\n          'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlOGFlZjVlODMzOTZmYmViNmY2MmU4NmNmZmViYjk4MSIsInN1YiI6IjY0ODIzMjcxZDJiMjA5MDBlYmJmM2Y5OCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.VO3Y1F5-wzOGPgGegX0KKGPSKeCvq8s50R1CV3r3ln0',\n      },\n    };\n  \n    return fetch(url, options)\n      .then(response => {\n        if (!response.ok) {\n          throw new Error('Failed to fetch breeds');\n        }\n        return response.json();\n      })\n      .catch(error => {\n        throw new Error('Failed to fetch breeds');\n      });\n  }\n\nconst refs = {\n    sectionHero: document.querySelector('.hero-main'),\n    basicHero: document.querySelector('.basic-hero'),\n    rating: document.querySelector('.rating-active')\n    \n}\n\nfunction heroFilm(){\n   return fetchBreeds().then(r => {\n    // console.log(r.results[2]) ;\n     return r.results[1] }).then(r=> {return cardMaker(r); }).then(() => {setTimeout(onTimeOut,700)})\n    //  then(r=> console.log(r));\n}\n\nheroFilm().then(() => console.log(filmIdTrailer))\n\nfunction cardMaker (film) {\n    \n\n  function setSectionHeroStyles() {\n    const screenWidth = window.innerWidth;\n  \n    if (screenWidth >= 768) {\n      refs.sectionHero.style.background = `linear-gradient(86.77deg, #111111 35.38%, rgba(249, 245, 245, 0) 65.61%), url(https://image.tmdb.org/t/p/original/${film.backdrop_path})`;\n      refs.sectionHero.style.backgroundSize = 'auto 100%';\n      refs.sectionHero.style.backgroundRepeat = 'no-repeat';\n      refs.sectionHero.style.backgroundPosition = 'right';\n    } else {\n      refs.sectionHero.style.background = `linear-gradient(86.77deg, #111111 10.38%, rgba(249, 245, 245, 0) 65.61%), url(https://image.tmdb.org/t/p/original/${film.backdrop_path})` ;\nrefs.sectionHero.style.backgroundSize = 'auto 100%';\nrefs.sectionHero.style.backgroundRepeat = 'no-repeat';\nrefs.sectionHero.style.backgroundPosition = 'center';\n    }\n  }\n  setSectionHeroStyles() \n  \n\n\n\n const retingInPercent = convertRatingToPercentage(film.vote_average);\n// console.log(retingInPercent)\nfilmIdTrailer = film.id;\nlocalStorage.removeItem('filmIdstor')\nlocalStorage.setItem('filmIdstor', `${filmIdTrailer}`)\n\nconst filmText =  truncateText(film.overview) ;\n\nconst htmlFilmCard = `<div class=\"film-box-hero\"><h2 class=\"hero-title-film\">${film.title}</h2><div class=\"rating\">\n<div class=\"rating-body\">\n    <div class=\"rating-active\" style=\"width: ${retingInPercent}%;\" ></div>\n    <div class=\"rating-items\">\n        <input type=\"radio\" class=\"reting-item\" value=\"1\" name=\"rating\"></>\n        <input type=\"radio\" class=\"reting-item\" value=\"2\" name=\"rating\"></>\n        <input type=\"radio\" class=\"reting-item\" value=\"3\" name=\"rating\"></>\n        <input type=\"radio\" class=\"reting-item\" value=\"4\" name=\"rating\"></>\n        <input type=\"radio\" class=\"reting-item\" value=\"5\" name=\"rating\"></>\n    </div>\n</div>\n\n</div><p class=\"hero-text-film\">${filmText}</p><button  class=\"hero-btn-static \">Watch trailer</button><button class=\"hero-btn-static-sec\">More details</button></div>`;\nrefs.basicHero.innerHTML = htmlFilmCard;\n// console.log(refs.sectionHero.style.background);\n    return htmlFilmCard\n}\n\nfunction truncateText(text) {\n  const screenWidth = window.innerWidth;\n  if (screenWidth >= 768) {\n    if (text.length > 200) {\n      return text.substring(0, 200) + '...';\n    }\n    return text;\n  }\n    else if (text.length > 100) {\n      return text.substring(0, 100) + '...';\n    }\n    return text;\n  }\n  \n//   Зірочки \nconst ratings =document.querySelectorAll('.rating');\nif(ratings.length > 0) {\n    initRatings()\n}\n\nfunction initRatings () {\n    let ratingActive, ratingValue;\n    for(let i = 0 ; i < ratings.length; i++) {\n        const rating = ratings[i];\n        initRating(rating)\n    }\n}\n\nfunction initRating (rating) {\n    initRatingVars(rating);\n setRetingActiveWidth()\n}\n\nfunction initRatingVars(rating) {\n    ratingActive = rating.querySelector('.rating-active');\n    ratingValue = rating.querySelector('.rating-value');\n}\n\nfunction setRetingActiveWidth (index = ratingValue.innerHTML){\nconst ratingActiveWidth = parseFloat(ratingValue.innerHTML)/0.05;\nratingActive.style.width = `${ratingActiveWidth}%`\n}\n\nfunction convertRatingToPercentage(rating) {\n    // Перетворюємо рейтинг у відсотки\n    const percentage = (rating / 10) * 100;\n    \n    // Округлюємо значення до двох знаків після коми\n    const roundedPercentage = Math.round(percentage * 100) / 100;\n    \n    return roundedPercentage;\n  }\n  \n\n function onTimeOut(){\n    console.log(filmIdTrailer)\n    \n }\n\n\n//  =======Фільм Трейлер========\n\n\n\n\n// function fetchBreeds() {\n//   const url =\n//     'https://api.themoviedb.org/3/movie/569094/videos?language=en-US';\n//   const options = {\n//     method: 'GET',\n//     headers: {\n//       Accept: 'application/json',\n//       Authorization:\n//         'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlOGFlZjVlODMzOTZmYmViNmY2MmU4NmNmZmViYjk4MSIsInN1YiI6IjY0ODIzMjcxZDJiMjA5MDBlYmJmM2Y5OCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.VO3Y1F5-wzOGPgGegX0KKGPSKeCvq8s50R1CV3r3ln0',\n//     },\n//   };\n\n//   return fetch(url, options)\n//     .then(response => {\n//       if (!response.ok) {\n//         throw new Error('Failed to fetch breeds');\n//       }\n//       return response.json();\n//     })\n//     .catch(error => {\n//       throw new Error('Failed to fetch breeds');\n//     });\n// }\n\n\n\n\n// fetchBreeds().then(r => {return r.results[0]}).then(r => videoMaker(r))\n\n// function videoMaker (video) {\n// const videoKey = video.key;\n// console.log(videoKey)\n\n// const videoIframe = document.createElement('iframe');\n//   videoIframe.src = `https://www.youtube.com/embed/${videoKey}`;\n//   videoIframe.allowFullscreen = true;\n//   videoIframe.classList.add('you-tube-iframe')\n  \n  \n  \n// console.log(videoIframe)\n// refs.modalTrailer.innerHTML = '';\n\n// refs.modalTrailer.appendChild(videoIframe);\n\n// }\n\n// setTimeout(() => {\n//   const openModalBtn = document.querySelector('.hero-btn-static');\n//   const modal = document.getElementById('modal');\n//   const closeModalBtn = modal.querySelector('.close');\n  \n//   // Функція для відкриття модального вікна\n//   function openModal() {\n//     modal.style.display = 'block';\n//   }\n  \n//   // Функція для закриття модального вікна\n//   function closeModal() {\n//     modal.style.display = 'none';\n//   }\n  \n//   // Додаємо обробники подій\n//   openModalBtn.addEventListener('click', openModal);\n//   closeModalBtn.addEventListener('click', closeModal);\n//   window.addEventListener('click', function (event) {\n//     if (event.target === modal) {\n//       closeModal();\n//     }\n//   });\n  \n//   const refs = {\n//     modalTrailer:document.querySelector('.modal-content')\n    \n//   }\n// }, 500)\n\n\n\n\n\n  \n\n\n"],"names":["$c519d076f6352209$var$refs","sectionHero","document","querySelector","basicHero","rating","fetch","method","headers","Accept","Authorization","then","response","ok","Error","json","catch","error","r","results","film","setSectionHeroStyles","window","innerWidth","style","background","concat","backdrop_path","backgroundSize","backgroundRepeat","backgroundPosition","percentage","retingInPercent","vote_average","Math","round","filmIdTrailer","id","localStorage","removeItem","setItem","text","filmText","overview","length","substring","htmlFilmCard","title","innerHTML","$c519d076f6352209$var$cardMaker","setTimeout","$c519d076f6352209$var$onTimeOut","console","log","$c519d076f6352209$var$ratings","querySelectorAll","$c519d076f6352209$var$initRating","ratingActive","ratingValue","$c519d076f6352209$var$initRatingVars","arguments","ratingActiveWidth","parseFloat","width","$c519d076f6352209$var$setRetingActiveWidth","i","$c519d076f6352209$var$initRatings"],"version":3,"file":"index.bba858b4.js.map"}