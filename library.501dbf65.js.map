{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,0BAEMC,EAAaC,SAASC,cAAc,oBACpCC,EAAiBC,KAAKC,MAAMC,aAAaC,QAAQ,a,SAGxCC,I,OAAAA,EAAfC,EAAAX,EAAA,CAAAW,EAAAC,GAAAC,MAAA,SAAAC,I,IAKUC,E,8EAHCV,EAAc,C,iEAGF,EAAAW,EAAAC,mBAAkBZ,G,OAA/BU,EAAIG,EAAAC,KAEVC,QAAQC,IAAIN,GACZb,EAAWoB,mBAAmB,YAAaC,EAAoBR,I,kDAG/DK,QAAQC,IAAGH,EAAAM,I,2DAXgBC,MAAAC,KAAAC,U,CAe/B,SAASJ,EAAoBK,GAMtB,OAAOA,EAAIC,KAAI,SAACC,GACX,IAqDuBC,EAE3BC,EAvDYC,EAA6DH,EAA7DG,aAAcC,EAA+CJ,EAA/CI,cAAeC,EAAgCL,EAAhCK,OAAQC,EAAwBN,EAAxBM,MAAOC,EAAiBP,EAAjBO,aAE9CC,EADcH,EAAOI,MAAM,EAAG,GACNV,KAAI,SAAAW,G,OAASA,EAAMC,I,IAAMC,KAAK,MAG5D,OAFAtB,QAAQC,IAAIiB,GAEL,uJAIoDK,OAH8CT,EAAc,4LAczES,QAiCvBZ,EA5C8DM,EA8CzFL,EAAaD,EAAU,GAAM,IAGTa,KAAKC,MAAmB,IAAbb,GAAoB,KAjDoD,4xBAYnDW,OADFP,EAAM,0EACoDO,OAAxDL,EAAU,gDAAuEK,OAAzBV,EAAaM,MAAM,EAAG,GAAG,kG,IAKlIG,KAAK,G,aAhDDhC,EAAgBe,MAAAC,KAAAC,U,CAyE/BmB,E","sources":["src/js/library.js"],"sourcesContent":["import { libraryMovieQuery } from './apikey';\n\nconst libraryBox = document.querySelector('.library-js-list');\nconst localStorageId = JSON.parse(localStorage.getItem('movieIds'));\n\n\nasync function initLibraryFetch() {\n  try {      \n      if (!localStorageId) {\n        return\n    }\n    const data = await libraryMovieQuery(localStorageId);\n\n    console.log(data);\n    libraryBox.insertAdjacentHTML('beforeend', createLibraryMarkup(data));\n\n  } catch (err) {\n    console.log(err);\n  }\n}\n\nfunction createLibraryMarkup(arr) {\n    // console.log(arr);\n    // const { release_date, backdrop_path, genres, title, vote_average} = arr;\n    // const genreSliced = genres.slice(0, 2);\n    // const genreName = genreSliced.map(genre => genre.name).join(\", \");\n    \n       return arr.map((movie) => {\n            const { release_date, backdrop_path, genres, title, vote_average } = movie;\n            const genreSliced = genres.slice(0, 2);\n            const genreName = genreSliced.map(genre => genre.name).join(\", \");\n            console.log(genreName);\n\n            return `<div class=\"library-container\">\n                <div class=\"library-container-img\" style=\"background-image: url(https://image.tmdb.org/t/p/original${backdrop_path});\">\n                <div class=\"rating-libr rating-library\">\n                        <div class=\"rating-body\">\n                            <div class=\"rating-active\" style=\"width: ${convertRatingToPercentage(vote_average)}%;\"></div>\n                            <div class=\"rating-items\">\n                                <input type=\"radio\" class=\"reting-item\" value=\"1\" name=\"rating\"></>\n                                <input type=\"radio\" class=\"reting-item\" value=\"2\" name=\"rating\"></>\n                                <input type=\"radio\" class=\"reting-item\" value=\"3\" name=\"rating\"></>\n                                <input type=\"radio\" class=\"reting-item\" value=\"4\" name=\"rating\"></>\n                                <input type=\"radio\" class=\"reting-item\" value=\"5\" name=\"rating\"></>\n                            </div>\n                            </div>\n                        </div>\n                    <div class=\"library-container-about\">\n                        <h3 class=\"library-movie-title\">${title}</h3>     \n                        <span class=\"library-genre-title\">${genreName}</span><span class=\"library-genre-title\"> | ${release_date.slice(0, 4)}</span>   \n                    </div> \n            </div>\n            </div>\n        </div>`;\n        }).join('');\n\n    // return `<div class=\"library-container\">\n    //         <div class=\"library-container-img\" style=\"background-image: url(https://image.tmdb.org/t/p/original${backdrop_path});\">\n    //            <div class=\"rating-libr rating-library\">\n    //                 <div class=\"rating-body\">\n    //                     <div class=\"rating-active\" style=\"width: ${convertRatingToPercentage(vote_average)}%;\"></div>\n    //                     <div class=\"rating-items\">\n    //                         <input type=\"radio\" class=\"reting-item\" value=\"1\" name=\"rating\"></>\n    //                         <input type=\"radio\" class=\"reting-item\" value=\"2\" name=\"rating\"></>\n    //                         <input type=\"radio\" class=\"reting-item\" value=\"3\" name=\"rating\"></>\n    //                         <input type=\"radio\" class=\"reting-item\" value=\"4\" name=\"rating\"></>\n    //                         <input type=\"radio\" class=\"reting-item\" value=\"5\" name=\"rating\"></>\n    //                     </div>\n    //                     </div>\n    //                 </div>\n    //             <div class=\"library-container-about\">\n    //                 <h3 class=\"library-movie-title\">${title}</h3>     \n    //                 <span class=\"library-genre-title\">${genreName}</span><span class=\"library-genre-title\"> | ${release_date.slice(0, 4)}</span>   \n    //             </div> \n    //       </div>\n    //      </div>\n    // </div>`;\n};\n\ninitLibraryFetch();\n\nfunction convertRatingToPercentage(rating) {\n  // Перетворюємо рейтинг у відсотки\n  const percentage = (rating / 10) * 100;\n\n  // Округлюємо значення до двох знаків після коми\n  const roundedPercentage = Math.round(percentage * 100) / 100;\n\n  return roundedPercentage;\n}\n\n"],"names":["$bpxeT","parcelRequire","$93effc6fc56091ad$var$libraryBox","document","querySelector","$93effc6fc56091ad$var$localStorageId","JSON","parse","localStorage","getItem","$93effc6fc56091ad$var$_initLibraryFetch","$parcel$interopDefault","$2TvXO","mark","_callee","data","$hDMWd","libraryMovieQuery","_ctx","sent","console","log","insertAdjacentHTML","$93effc6fc56091ad$var$createLibraryMarkup","t0","apply","this","arguments","arr","map","movie","rating","percentage","release_date","backdrop_path","genres","title","vote_average","genreName","slice","genre","name","join","concat","Math","round","$93effc6fc56091ad$var$initLibraryFetch"],"version":3,"file":"library.501dbf65.js.map"}